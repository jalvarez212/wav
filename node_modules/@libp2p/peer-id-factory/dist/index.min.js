(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PPeerIdFactory = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PPeerIdFactory=(()=>{var Of=Object.create;var tn=Object.defineProperty;var Vf=Object.getOwnPropertyDescriptor;var qf=Object.getOwnPropertyNames;var zf=Object.getPrototypeOf,Hf=Object.prototype.hasOwnProperty;var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),vt=(t,e)=>{for(var r in e)tn(t,r,{get:e[r],enumerable:!0})},za=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qf(e))!Hf.call(t,i)&&i!==r&&tn(t,i,{get:()=>e[i],enumerable:!(n=Vf(e,i))||n.enumerable});return t};var Z=(t,e,r)=>(r=t!=null?Of(zf(t)):{},za(e||!t||!t.__esModule?tn(r,"default",{value:t,enumerable:!0}):r,t)),Gf=t=>za(tn({},"__esModule",{value:!0}),t);var Ga=M((bd,Ha)=>{"use strict";Ha.exports=Wf;function Wf(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(o,f){r[n]=function(u){if(a)if(a=!1,u)f(u);else{for(var h=new Array(arguments.length-1),l=0;l<h.length;)h[l++]=arguments[l];o.apply(null,h)}};try{t.apply(e||null,r)}catch(c){a&&(a=!1,f(c))}})}});var $a=M(Ya=>{"use strict";var en=Ya;en.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Oe=new Array(64),Za=new Array(123);for(Ot=0;Ot<64;)Za[Oe[Ot]=Ot<26?Ot+65:Ot<52?Ot+71:Ot<62?Ot-4:Ot-59|43]=Ot++;var Ot;en.encode=function(e,r,n){for(var i=null,a=[],s=0,o=0,f;r<n;){var c=e[r++];switch(o){case 0:a[s++]=Oe[c>>2],f=(c&3)<<4,o=1;break;case 1:a[s++]=Oe[f|c>>4],f=(c&15)<<2,o=2;break;case 2:a[s++]=Oe[f|c>>6],a[s++]=Oe[c&63],o=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return o&&(a[s++]=Oe[f],a[s++]=61,o===1&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var Wa="invalid encoding";en.decode=function(e,r,n){for(var i=n,a=0,s,o=0;o<e.length;){var f=e.charCodeAt(o++);if(f===61&&a>1)break;if((f=Za[f])===void 0)throw Error(Wa);switch(a){case 0:s=f,a=1;break;case 1:r[n++]=s<<2|(f&48)>>4,s=f,a=2;break;case 2:r[n++]=(s&15)<<4|(f&60)>>2,s=f,a=3;break;case 3:r[n++]=(s&3)<<6|f,a=0;break}}if(a===1)throw Error(Wa);return n-i};en.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Xa=M((Sd,Qa)=>{"use strict";Qa.exports=rn;function rn(){this._listeners={}}rn.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};rn.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};rn.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var is=M((Ed,ns)=>{"use strict";ns.exports=Ja(Ja);function Ja(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3]}function a(f,c,u){e[0]=f,c[u]=r[3],c[u+1]=r[2],c[u+2]=r[1],c[u+3]=r[0]}t.writeFloatLE=n?i:a,t.writeFloatBE=n?a:i;function s(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],e[0]}function o(f,c){return r[3]=f[c],r[2]=f[c+1],r[1]=f[c+2],r[0]=f[c+3],e[0]}t.readFloatLE=n?s:o,t.readFloatBE=n?o:s}():function(){function e(n,i,a,s){var o=i<0?1:0;if(o&&(i=-i),i===0)n(1/i>0?0:2147483648,a,s);else if(isNaN(i))n(2143289344,a,s);else if(i>34028234663852886e22)n((o<<31|2139095040)>>>0,a,s);else if(i<11754943508222875e-54)n((o<<31|Math.round(i/1401298464324817e-60))>>>0,a,s);else{var f=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-f)*8388608)&8388607;n((o<<31|f+127<<23|c)>>>0,a,s)}}t.writeFloatLE=e.bind(null,ja),t.writeFloatBE=e.bind(null,ts);function r(n,i,a){var s=n(i,a),o=(s>>31)*2+1,f=s>>>23&255,c=s&8388607;return f===255?c?NaN:o*(1/0):f===0?o*1401298464324817e-60*c:o*Math.pow(2,f-150)*(c+8388608)}t.readFloatLE=r.bind(null,es),t.readFloatBE=r.bind(null,rs)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(f,c,u){e[0]=f,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3],c[u+4]=r[4],c[u+5]=r[5],c[u+6]=r[6],c[u+7]=r[7]}function a(f,c,u){e[0]=f,c[u]=r[7],c[u+1]=r[6],c[u+2]=r[5],c[u+3]=r[4],c[u+4]=r[3],c[u+5]=r[2],c[u+6]=r[1],c[u+7]=r[0]}t.writeDoubleLE=n?i:a,t.writeDoubleBE=n?a:i;function s(f,c){return r[0]=f[c],r[1]=f[c+1],r[2]=f[c+2],r[3]=f[c+3],r[4]=f[c+4],r[5]=f[c+5],r[6]=f[c+6],r[7]=f[c+7],e[0]}function o(f,c){return r[7]=f[c],r[6]=f[c+1],r[5]=f[c+2],r[4]=f[c+3],r[3]=f[c+4],r[2]=f[c+5],r[1]=f[c+6],r[0]=f[c+7],e[0]}t.readDoubleLE=n?s:o,t.readDoubleBE=n?o:s}():function(){function e(n,i,a,s,o,f){var c=s<0?1:0;if(c&&(s=-s),s===0)n(0,o,f+i),n(1/s>0?0:2147483648,o,f+a);else if(isNaN(s))n(0,o,f+i),n(2146959360,o,f+a);else if(s>17976931348623157e292)n(0,o,f+i),n((c<<31|2146435072)>>>0,o,f+a);else{var u;if(s<22250738585072014e-324)u=s/5e-324,n(u>>>0,o,f+i),n((c<<31|u/4294967296)>>>0,o,f+a);else{var h=Math.floor(Math.log(s)/Math.LN2);h===1024&&(h=1023),u=s*Math.pow(2,-h),n(u*4503599627370496>>>0,o,f+i),n((c<<31|h+1023<<20|u*1048576&1048575)>>>0,o,f+a)}}}t.writeDoubleLE=e.bind(null,ja,0,4),t.writeDoubleBE=e.bind(null,ts,4,0);function r(n,i,a,s,o){var f=n(s,o+i),c=n(s,o+a),u=(c>>31)*2+1,h=c>>>20&2047,l=4294967296*(c&1048575)+f;return h===2047?l?NaN:u*(1/0):h===0?u*5e-324*l:u*Math.pow(2,h-1075)*(l+4503599627370496)}t.readDoubleLE=r.bind(null,es,0,4),t.readDoubleBE=r.bind(null,rs,4,0)}(),t}function ja(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function ts(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function es(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function rs(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var as=M((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var os=M(ss=>{"use strict";var Hn=ss;Hn.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};Hn.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var a=null,s=[],o=0,f;r<n;)f=e[r++],f<128?s[o++]=f:f>191&&f<224?s[o++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[o++]=55296+(f>>10),s[o++]=56320+(f&1023)):s[o++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};Hn.write=function(e,r,n){for(var i=n,a,s,o=0;o<e.length;++o)a=e.charCodeAt(o),a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):(a&64512)===55296&&((s=e.charCodeAt(o+1))&64512)===56320?(a=65536+((a&1023)<<10)+(s&1023),++o,r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128);return n-i}});var cs=M((Ad,fs)=>{"use strict";fs.exports=Zf;function Zf(t,e,r){var n=r||8192,i=n>>>1,a=null,s=n;return function(f){if(f<1||f>i)return t(f);s+f>n&&(a=t(n),s=0);var c=e.call(a,s,s+=f);return s&7&&(s=(s|7)+1),c}}});var hs=M((Cd,us)=>{"use strict";us.exports=pt;var br=Ce();function pt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Ae=pt.zero=new pt(0,0);Ae.toNumber=function(){return 0};Ae.zzEncode=Ae.zzDecode=function(){return this};Ae.length=function(){return 1};var Yf=pt.zeroHash="\0\0\0\0\0\0\0\0";pt.fromNumber=function(e){if(e===0)return Ae;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new pt(n,i)};pt.from=function(e){if(typeof e=="number")return pt.fromNumber(e);if(br.isString(e))if(br.Long)e=br.Long.fromString(e);else return pt.fromNumber(parseInt(e,10));return e.low||e.high?new pt(e.low>>>0,e.high>>>0):Ae};pt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};pt.prototype.toLong=function(e){return br.Long?new br.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var le=String.prototype.charCodeAt;pt.fromHash=function(e){return e===Yf?Ae:new pt((le.call(e,0)|le.call(e,1)<<8|le.call(e,2)<<16|le.call(e,3)<<24)>>>0,(le.call(e,4)|le.call(e,5)<<8|le.call(e,6)<<16|le.call(e,7)<<24)>>>0)};pt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};pt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};pt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};pt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Ce=M(Gn=>{"use strict";var D=Gn;D.asPromise=Ga();D.base64=$a();D.EventEmitter=Xa();D.float=is();D.inquire=as();D.utf8=os();D.pool=cs();D.LongBits=hs();D.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);D.global=D.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||Gn;D.emptyArray=Object.freeze?Object.freeze([]):[];D.emptyObject=Object.freeze?Object.freeze({}):{};D.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};D.isString=function(e){return typeof e=="string"||e instanceof String};D.isObject=function(e){return e&&typeof e=="object"};D.isset=D.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};D.Buffer=function(){try{var t=D.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();D._Buffer_from=null;D._Buffer_allocUnsafe=null;D.newBuffer=function(e){return typeof e=="number"?D.Buffer?D._Buffer_allocUnsafe(e):new D.Array(e):D.Buffer?D._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};D.Array=typeof Uint8Array<"u"?Uint8Array:Array;D.Long=D.global.dcodeIO&&D.global.dcodeIO.Long||D.global.Long||D.inquire("long");D.key2Re=/^true|false|0|1$/;D.key32Re=/^-?(?:0|[1-9][0-9]*)$/;D.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;D.longToHash=function(e){return e?D.LongBits.from(e).toHash():D.LongBits.zeroHash};D.longFromHash=function(e,r){var n=D.LongBits.fromHash(e);return D.Long?D.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function ls(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}D.merge=ls;D.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function ps(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&ls(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}D.newError=ps;D.ProtocolError=ps("ProtocolError");D.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),a=i.length-1;a>-1;--a)if(r[i[a]]===1&&this[i[a]]!==void 0&&this[i[a]]!==null)return i[a]}};D.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};D.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};D._configure=function(){var t=D.Buffer;if(!t){D._Buffer_from=D._Buffer_allocUnsafe=null;return}D._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},D._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var Yn=M((Id,vs)=>{"use strict";vs.exports=ut;var Wt=Ce(),Zn,gs=Wt.LongBits,$f=Wt.utf8;function Vt(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function ut(t){this.buf=t,this.pos=0,this.len=t.length}var ds=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ut(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ut(e);throw Error("illegal buffer")},xs=function(){return Wt.Buffer?function(r){return(ut.create=function(i){return Wt.Buffer.isBuffer(i)?new Zn(i):ds(i)})(r)}:ds};ut.create=xs();ut.prototype._slice=Wt.Array.prototype.subarray||Wt.Array.prototype.slice;ut.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Vt(this,10);return e}}();ut.prototype.int32=function(){return this.uint32()|0};ut.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Wn(){var t=new gs(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Vt(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Vt(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}ut.prototype.bool=function(){return this.uint32()!==0};function nn(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}ut.prototype.fixed32=function(){if(this.pos+4>this.len)throw Vt(this,4);return nn(this.buf,this.pos+=4)};ut.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Vt(this,4);return nn(this.buf,this.pos+=4)|0};function ys(){if(this.pos+8>this.len)throw Vt(this,8);return new gs(nn(this.buf,this.pos+=4),nn(this.buf,this.pos+=4))}ut.prototype.float=function(){if(this.pos+4>this.len)throw Vt(this,4);var e=Wt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ut.prototype.double=function(){if(this.pos+8>this.len)throw Vt(this,4);var e=Wt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ut.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Vt(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};ut.prototype.string=function(){var e=this.bytes();return $f.read(e,0,e.length)};ut.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Vt(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Vt(this);while(this.buf[this.pos++]&128);return this};ut.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};ut._configure=function(t){Zn=t,ut.create=xs(),Zn._configure();var e=Wt.Long?"toLong":"toNumber";Wt.merge(ut.prototype,{int64:function(){return Wn.call(this)[e](!1)},uint64:function(){return Wn.call(this)[e](!0)},sint64:function(){return Wn.call(this).zzDecode()[e](!1)},fixed64:function(){return ys.call(this)[e](!0)},sfixed64:function(){return ys.call(this)[e](!1)}})}});var Ss=M((_d,ws)=>{"use strict";ws.exports=Te;var bs=Yn();(Te.prototype=Object.create(bs.prototype)).constructor=Te;var ms=Ce();function Te(t){bs.call(this,t)}Te._configure=function(){ms.Buffer&&(Te.prototype._slice=ms.Buffer.prototype.slice)};Te.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Te._configure()});var ei=M((Rd,Cs)=>{"use strict";Cs.exports=G;var Nt=Ce(),$n,an=Nt.LongBits,Es=Nt.base64,Bs=Nt.utf8;function wr(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Xn(){}function Qf(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function G(){this.len=0,this.head=new wr(Xn,0,0),this.tail=this.head,this.states=null}var As=function(){return Nt.Buffer?function(){return(G.create=function(){return new $n})()}:function(){return new G}};G.create=As();G.alloc=function(e){return new Nt.Array(e)};Nt.Array!==Array&&(G.alloc=Nt.pool(G.alloc,Nt.Array.prototype.subarray));G.prototype._push=function(e,r,n){return this.tail=this.tail.next=new wr(e,r,n),this.len+=r,this};function Jn(t,e,r){e[r]=t&255}function Xf(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function jn(t,e){this.len=t,this.next=void 0,this.val=e}jn.prototype=Object.create(wr.prototype);jn.prototype.fn=Xf;G.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new jn((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};G.prototype.int32=function(e){return e<0?this._push(ti,10,an.fromNumber(e)):this.uint32(e)};G.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function ti(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}G.prototype.uint64=function(e){var r=an.from(e);return this._push(ti,r.length(),r)};G.prototype.int64=G.prototype.uint64;G.prototype.sint64=function(e){var r=an.from(e).zzEncode();return this._push(ti,r.length(),r)};G.prototype.bool=function(e){return this._push(Jn,1,e?1:0)};function Qn(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}G.prototype.fixed32=function(e){return this._push(Qn,4,e>>>0)};G.prototype.sfixed32=G.prototype.fixed32;G.prototype.fixed64=function(e){var r=an.from(e);return this._push(Qn,4,r.lo)._push(Qn,4,r.hi)};G.prototype.sfixed64=G.prototype.fixed64;G.prototype.float=function(e){return this._push(Nt.float.writeFloatLE,4,e)};G.prototype.double=function(e){return this._push(Nt.float.writeDoubleLE,8,e)};var Jf=Nt.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};G.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Jn,1,0);if(Nt.isString(e)){var n=G.alloc(r=Es.length(e));Es.decode(e,n,0),e=n}return this.uint32(r)._push(Jf,r,e)};G.prototype.string=function(e){var r=Bs.length(e);return r?this.uint32(r)._push(Bs.write,r,e):this._push(Jn,1,0)};G.prototype.fork=function(){return this.states=new Qf(this),this.head=this.tail=new wr(Xn,0,0),this.len=0,this};G.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new wr(Xn,0,0),this.len=0),this};G.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};G.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};G._configure=function(t){$n=t,G.create=As(),$n._configure()}});var _s=M((kd,Is)=>{"use strict";Is.exports=Zt;var Ts=ei();(Zt.prototype=Object.create(Ts.prototype)).constructor=Zt;var pe=Ce();function Zt(){Ts.call(this)}Zt._configure=function(){Zt.alloc=pe._Buffer_allocUnsafe,Zt.writeBytesBuffer=pe.Buffer&&pe.Buffer.prototype instanceof Uint8Array&&pe.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Zt.prototype.bytes=function(e){pe.isString(e)&&(e=pe._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Zt.writeBytesBuffer,r,e),this};function jf(t,e,r){t.length<40?pe.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Zt.prototype.string=function(e){var r=pe.Buffer.byteLength(e);return this.uint32(r),r&&this._push(jf,r,e),this};Zt._configure()});var X=M(($d,Ls)=>{Ls.exports={options:{usePureJavaScript:!1}}});var Ks=M((Qd,Us)=>{var fi={};Us.exports=fi;var Ps={};fi.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=nc(t,e);else{var i=0,a=e.length,s=e.charAt(0),o=[0];for(i=0;i<t.length;++i){for(var f=0,c=t[i];f<o.length;++f)c+=o[f]<<8,o[f]=c%a,c=c/a|0;for(;c>0;)o.push(c%a),c=c/a|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=s;for(i=o.length-1;i>=0;--i)n+=e[o[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};fi.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=Ps[e];if(!r){r=Ps[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,a=e.charAt(0),s=[0],n=0;n<t.length;n++){var o=r[t.charCodeAt(n)];if(o===void 0)return;for(var f=0,c=o;f<s.length;++f)c+=s[f]*i,s[f]=c&255,c>>=8;for(;c>0;)s.push(c&255),c>>=8}for(var u=0;t[u]===a&&u<t.length-1;++u)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function nc(t,e){var r=0,n=e.length,i=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var s=0,o=t.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%n,o=o/n|0;for(;o>0;)a.push(o%n),o=o/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=a.length-1;r>=0;--r)f+=e[a[r]];return f}});var lt=M((Xd,Vs)=>{var Fs=X(),Ms=Ks(),g=Vs.exports=Fs.util=Fs.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){g.nextTick=process.nextTick,typeof setImmediate=="function"?g.setImmediate=setImmediate:g.setImmediate=g.nextTick;return}if(typeof setImmediate=="function"){g.setImmediate=function(){return setImmediate.apply(void 0,arguments)},g.nextTick=function(o){return setImmediate(o)};return}if(g.setImmediate=function(o){setTimeout(o,0)},typeof window<"u"&&typeof window.postMessage=="function"){let o=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(u){u()})}};var s=o,t="forge.setImmediate",e=[];g.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var a=g.setImmediate;g.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),a(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}g.nextTick=g.setImmediate})();g.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;g.globalScope=function(){return g.isNodejs?globalThis:typeof self>"u"?window:self}();g.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};g.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};g.isArrayBufferView=function(t){return t&&g.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Sr(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}g.ByteBuffer=ci;function ci(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(g.isArrayBuffer(t)||g.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof ci||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}g.ByteStringBuffer=ci;var ic=4096;g.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>ic&&(this.data.substr(0,1),this._constructedStringLength=0)};g.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};g.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};g.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};g.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};g.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};g.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(g.encodeUtf8(t))};g.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};g.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};g.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};g.ByteStringBuffer.prototype.putInt=function(t,e){Sr(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};g.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};g.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};g.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};g.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};g.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};g.ByteStringBuffer.prototype.getInt=function(t){Sr(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};g.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};g.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};g.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};g.ByteStringBuffer.prototype.copy=function(){var t=g.createBuffer(this.data);return t.read=this.read,t};g.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};g.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};g.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};g.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.ByteStringBuffer.prototype.toString=function(){return g.decodeUtf8(this.bytes())};function ac(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=g.isArrayBuffer(t),n=g.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}g.DataBuffer=ac;g.DataBuffer.prototype.length=function(){return this.write-this.read};g.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};g.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};g.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};g.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};g.DataBuffer.prototype.putBytes=function(t,e){if(g.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(g.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof g.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&g.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof g.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=g.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=g.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};g.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};g.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};g.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};g.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};g.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};g.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};g.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};g.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};g.DataBuffer.prototype.putInt=function(t,e){Sr(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};g.DataBuffer.prototype.putSignedInt=function(t,e){return Sr(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};g.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};g.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};g.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};g.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};g.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};g.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};g.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};g.DataBuffer.prototype.getInt=function(t){Sr(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};g.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};g.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};g.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};g.DataBuffer.prototype.copy=function(){return new g.DataBuffer(this)};g.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};g.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};g.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};g.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return g.binary.raw.encode(e);if(t==="hex")return g.binary.hex.encode(e);if(t==="base64")return g.binary.base64.encode(e);if(t==="utf8")return g.text.utf8.decode(e);if(t==="utf16")return g.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};g.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=g.encodeUtf8(t)),new g.ByteBuffer(t)};g.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};g.xorBytes=function(t,e,r){for(var n="",i="",a="",s=0,o=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),o>=10&&(n+=a,a="",o=0),a+=String.fromCharCode(i),++o;return n+=a,n};g.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};g.bytesToHex=function(t){return g.createBuffer(t).toHex()};g.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ye=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Os="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";g.encode64=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.length;)i=t.charCodeAt(o++),a=t.charCodeAt(o++),s=t.charCodeAt(o++),r+=de.charAt(i>>2),r+=de.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=de.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":de.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,a,s=0;s<t.length;)r=ye[t.charCodeAt(s++)-43],n=ye[t.charCodeAt(s++)-43],i=ye[t.charCodeAt(s++)-43],a=ye[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(e+=String.fromCharCode((i&3)<<6|a)));return e};g.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};g.decodeUtf8=function(t){return decodeURIComponent(escape(t))};g.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Ms.encode,decode:Ms.decode}};g.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};g.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};g.binary.hex.encode=g.bytesToHex;g.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,a=r;for(t.length&1&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n};g.binary.base64.encode=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.byteLength;)i=t[o++],a=t[o++],s=t[o++],r+=de.charAt(i>>2),r+=de.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=de.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":de.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,o,f=0,c=r;f<t.length;)i=ye[t.charCodeAt(f++)-43],a=ye[t.charCodeAt(f++)-43],s=ye[t.charCodeAt(f++)-43],o=ye[t.charCodeAt(f++)-43],n[c++]=i<<2|a>>4,s!==64&&(n[c++]=(a&15)<<4|s>>2,o!==64&&(n[c++]=(s&3)<<6|o));return e?c-r:n.subarray(0,c)};g.binary.base58.encode=function(t,e){return g.binary.baseN.encode(t,Os,e)};g.binary.base58.decode=function(t,e){return g.binary.baseN.decode(t,Os,e)};g.text={utf8:{},utf16:{}};g.text.utf8.encode=function(t,e,r){t=g.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};g.text.utf8.decode=function(t){return g.decodeUtf8(String.fromCharCode.apply(null,t))};g.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,o=0;o<t.length;++o)i[s++]=t.charCodeAt(o),a+=2;return e?a-r:n};g.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};g.deflate=function(t,e,r){if(e=g.decode64(t.deflate(g.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};g.inflate=function(t,e,r){var n=t.inflate(g.encode64(e)).rval;return n===null?null:g.decode64(n)};var ui=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=g.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},hi=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(g.decode64(r))),r},sc=function(t,e,r,n){var i=hi(t,e);i===null&&(i={}),i[r]=n,ui(t,e,i)},oc=function(t,e,r){var n=hi(t,e);return n!==null&&(n=r in n?n[r]:null),n},fc=function(t,e,r){var n=hi(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),ui(t,e,n)}},cc=function(t,e){ui(t,e,null)},fn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,a=!1,s=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(f){s=f}if(a)break}if(!a)throw s;return n};g.setItem=function(t,e,r,n,i){fn(sc,arguments,i)};g.getItem=function(t,e,r,n){return fn(oc,arguments,n)};g.removeItem=function(t,e,r,n){fn(fc,arguments,n)};g.clearItems=function(t,e,r){fn(cc,arguments,r)};g.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};g.format=function(t){for(var e=/%./g,r,n,i=0,a=[],s=0;r=e.exec(t);){n=t.substring(s,e.lastIndex-2),n.length>0&&a.push(n),s=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(t.substring(s)),a.join("")};g.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,o=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+o:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(i-c).toFixed(a).slice(2):"")};g.formatSize=function(t){return t>=1073741824?t=g.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=g.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=g.formatNumber(t/1024,0)+" KiB":t=g.formatNumber(t,0)+" bytes",t};g.bytesFromIP=function(t){return t.indexOf(".")!==-1?g.bytesFromIPv4(t):t.indexOf(":")!==-1?g.bytesFromIPv6(t):null};g.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=g.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};g.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=g.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=g.hexToBytes(t[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};g.bytesToIP=function(t){return t.length===4?g.bytesToIPv4(t):t.length===16?g.bytesToIPv6(t):null};g.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};g.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var a=g.bytesToHex(t[i]+t[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=e.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};g.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in g&&!t.update)return e(null,g.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return g.cores=navigator.hardwareConcurrency,e(null,g.cores);if(typeof Worker>"u")return g.cores=1,e(null,g.cores);if(typeof Blob>"u")return g.cores=2,e(null,g.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var o=Date.now(),f=o+4;Date.now()<f;);self.postMessage({st:o,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,o,f){if(o===0){var c=Math.floor(s.reduce(function(u,h){return u+h},0)/s.length);return g.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,g.cores)}i(f,function(u,h){s.push(a(f,h)),n(s,o-1,f)})}function i(s,o){for(var f=[],c=[],u=0;u<s;++u){var h=new Worker(r);h.addEventListener("message",function(l){if(c.push(l.data),c.length===s){for(var y=0;y<s;++y)f[y].terminate();o(null,c)}}),f.push(h)}for(var u=0;u<s;++u)f[u].postMessage(u)}function a(s,o){for(var f=[],c=0;c<s;++c)for(var u=o[c],h=f[c]=[],l=0;l<s;++l)if(c!==l){var y=o[l];(u.st>y.st&&u.st<y.et||y.st>u.st&&y.st<u.et)&&h.push(l)}return f.reduce(function(p,d){return Math.max(p,d.length)},0)}}});var cn=M((Jd,qs)=>{var Er=X();Er.pki=Er.pki||{};var li=qs.exports=Er.pki.oids=Er.oids=Er.oids||{};function B(t,e){li[t]=e,li[e]=t}function $(t,e){li[t]=e}B("1.2.840.113549.1.1.1","rsaEncryption");B("1.2.840.113549.1.1.4","md5WithRSAEncryption");B("1.2.840.113549.1.1.5","sha1WithRSAEncryption");B("1.2.840.113549.1.1.7","RSAES-OAEP");B("1.2.840.113549.1.1.8","mgf1");B("1.2.840.113549.1.1.9","pSpecified");B("1.2.840.113549.1.1.10","RSASSA-PSS");B("1.2.840.113549.1.1.11","sha256WithRSAEncryption");B("1.2.840.113549.1.1.12","sha384WithRSAEncryption");B("1.2.840.113549.1.1.13","sha512WithRSAEncryption");B("1.3.101.112","EdDSA25519");B("1.2.840.10040.4.3","dsa-with-sha1");B("1.3.14.3.2.7","desCBC");B("1.3.14.3.2.26","sha1");B("1.3.14.3.2.29","sha1WithRSASignature");B("2.16.840.1.101.3.4.2.1","sha256");B("2.16.840.1.101.3.4.2.2","sha384");B("2.16.840.1.101.3.4.2.3","sha512");B("2.16.840.1.101.3.4.2.4","sha224");B("2.16.840.1.101.3.4.2.5","sha512-224");B("2.16.840.1.101.3.4.2.6","sha512-256");B("1.2.840.113549.2.2","md2");B("1.2.840.113549.2.5","md5");B("1.2.840.113549.1.7.1","data");B("1.2.840.113549.1.7.2","signedData");B("1.2.840.113549.1.7.3","envelopedData");B("1.2.840.113549.1.7.4","signedAndEnvelopedData");B("1.2.840.113549.1.7.5","digestedData");B("1.2.840.113549.1.7.6","encryptedData");B("1.2.840.113549.1.9.1","emailAddress");B("1.2.840.113549.1.9.2","unstructuredName");B("1.2.840.113549.1.9.3","contentType");B("1.2.840.113549.1.9.4","messageDigest");B("1.2.840.113549.1.9.5","signingTime");B("1.2.840.113549.1.9.6","counterSignature");B("1.2.840.113549.1.9.7","challengePassword");B("1.2.840.113549.1.9.8","unstructuredAddress");B("1.2.840.113549.1.9.14","extensionRequest");B("1.2.840.113549.1.9.20","friendlyName");B("1.2.840.113549.1.9.21","localKeyId");B("1.2.840.113549.1.9.22.1","x509Certificate");B("1.2.840.113549.1.12.10.1.1","keyBag");B("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");B("1.2.840.113549.1.12.10.1.3","certBag");B("1.2.840.113549.1.12.10.1.4","crlBag");B("1.2.840.113549.1.12.10.1.5","secretBag");B("1.2.840.113549.1.12.10.1.6","safeContentsBag");B("1.2.840.113549.1.5.13","pkcs5PBES2");B("1.2.840.113549.1.5.12","pkcs5PBKDF2");B("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");B("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");B("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");B("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");B("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");B("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");B("1.2.840.113549.2.7","hmacWithSHA1");B("1.2.840.113549.2.8","hmacWithSHA224");B("1.2.840.113549.2.9","hmacWithSHA256");B("1.2.840.113549.2.10","hmacWithSHA384");B("1.2.840.113549.2.11","hmacWithSHA512");B("1.2.840.113549.3.7","des-EDE3-CBC");B("2.16.840.1.101.3.4.1.2","aes128-CBC");B("2.16.840.1.101.3.4.1.22","aes192-CBC");B("2.16.840.1.101.3.4.1.42","aes256-CBC");B("2.5.4.3","commonName");B("2.5.4.4","surname");B("2.5.4.5","serialNumber");B("2.5.4.6","countryName");B("2.5.4.7","localityName");B("2.5.4.8","stateOrProvinceName");B("2.5.4.9","streetAddress");B("2.5.4.10","organizationName");B("2.5.4.11","organizationalUnitName");B("2.5.4.12","title");B("2.5.4.13","description");B("2.5.4.15","businessCategory");B("2.5.4.17","postalCode");B("2.5.4.42","givenName");B("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");B("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");B("2.16.840.1.113730.1.1","nsCertType");B("2.16.840.1.113730.1.13","nsComment");$("2.5.29.1","authorityKeyIdentifier");$("2.5.29.2","keyAttributes");$("2.5.29.3","certificatePolicies");$("2.5.29.4","keyUsageRestriction");$("2.5.29.5","policyMapping");$("2.5.29.6","subtreesConstraint");$("2.5.29.7","subjectAltName");$("2.5.29.8","issuerAltName");$("2.5.29.9","subjectDirectoryAttributes");$("2.5.29.10","basicConstraints");$("2.5.29.11","nameConstraints");$("2.5.29.12","policyConstraints");$("2.5.29.13","basicConstraints");B("2.5.29.14","subjectKeyIdentifier");B("2.5.29.15","keyUsage");$("2.5.29.16","privateKeyUsagePeriod");B("2.5.29.17","subjectAltName");B("2.5.29.18","issuerAltName");B("2.5.29.19","basicConstraints");$("2.5.29.20","cRLNumber");$("2.5.29.21","cRLReason");$("2.5.29.22","expirationDate");$("2.5.29.23","instructionCode");$("2.5.29.24","invalidityDate");$("2.5.29.25","cRLDistributionPoints");$("2.5.29.26","issuingDistributionPoint");$("2.5.29.27","deltaCRLIndicator");$("2.5.29.28","issuingDistributionPoint");$("2.5.29.29","certificateIssuer");$("2.5.29.30","nameConstraints");B("2.5.29.31","cRLDistributionPoints");B("2.5.29.32","certificatePolicies");$("2.5.29.33","policyMappings");$("2.5.29.34","policyConstraints");B("2.5.29.35","authorityKeyIdentifier");$("2.5.29.36","policyConstraints");B("2.5.29.37","extKeyUsage");$("2.5.29.46","freshestCRL");$("2.5.29.54","inhibitAnyPolicy");B("1.3.6.1.4.1.11129.2.4.2","timestampList");B("1.3.6.1.5.5.7.1.1","authorityInfoAccess");B("1.3.6.1.5.5.7.3.1","serverAuth");B("1.3.6.1.5.5.7.3.2","clientAuth");B("1.3.6.1.5.5.7.3.3","codeSigning");B("1.3.6.1.5.5.7.3.4","emailProtection");B("1.3.6.1.5.5.7.3.8","timeStamping")});var Ar=M((jd,Hs)=>{var j=X();lt();cn();var I=Hs.exports=j.asn1=j.asn1||{};I.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};I.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};I.create=function(t,e,r,n,i){if(j.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var o={tagClass:t,type:e,constructed:r,composed:r||j.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=I.copy(o)),o};I.copy=function(t,e){var r;if(j.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(I.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:I.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};I.equals=function(t,e,r){if(j.util.isArray(t)){if(!j.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!I.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&I.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};I.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Br(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var uc=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Br(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};I.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=j.util.createBuffer(t));var r=t.length(),n=un(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function un(t,e,r,n){var i;Br(t,e,2);var a=t.getByte();e--;var s=a&192,o=a&31;i=t.length();var f=uc(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=f,c}f=e}var u,h,l=(a&32)===32;if(l)if(u=[],f===void 0)for(;;){if(Br(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),u.push(un(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),u.push(un(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(u===void 0&&s===I.Class.UNIVERSAL&&o===I.Type.BITSTRING&&(h=t.bytes(f)),u===void 0&&n.decodeBitStrings&&s===I.Class.UNIVERSAL&&o===I.Type.BITSTRING&&f>1){var y=t.read,p=e,d=0;if(o===I.Type.BITSTRING&&(Br(t,e,1),d=t.getByte(),e--),d===0)try{i=t.length();var v={strict:!0,decodeBitStrings:!0},m=un(t,e,r+1,v),E=i-t.length();e-=E,o==I.Type.BITSTRING&&E++;var A=m.tagClass;E===f&&(A===I.Class.UNIVERSAL||A===I.Class.CONTEXT_SPECIFIC)&&(u=[m])}catch{}u===void 0&&(t.read=y,e=p)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(o===I.Type.BMPSTRING)for(u="";f>0;f-=2)Br(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(f),e-=f}var k=h===void 0?null:{bitStringContents:h};return I.create(s,o,l,u,k)}I.toDer=function(t){var e=j.util.createBuffer(),r=t.tagClass|t.type,n=j.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=I.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer(I.toDer(t.value[a]))}else if(t.type===I.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===I.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var s=n.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)e.putByte(o.charCodeAt(a))}return e.putBuffer(n),e};I.oidToDer=function(t){var e=t.split("."),r=j.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,a,s,o=2;o<e.length;++o){n=!0,i=[],a=parseInt(e[o],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};I.derToOid=function(t){var e;typeof t=="string"&&(t=j.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};I.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var f=t.charAt(10),c=10;f!=="+"&&f!=="-"&&(o=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,0),c&&(f=t.charAt(c),f==="+"||f==="-")){var u=parseInt(t.substr(c+1,2),10),h=parseInt(t.substr(c+4,2),10),l=u*60+h;l*=6e4,f==="+"?e.setTime(+e-l):e.setTime(+e+l)}return e};I.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),f=0,c=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var h=t.length-5,l=t.charAt(h);if(l==="+"||l==="-"){var y=parseInt(t.substr(h+1,2),10),p=parseInt(t.substr(h+4,2),10);c=y*60+p,c*=6e4,l==="+"&&(c*=-1),u=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,f),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(a,s,o,f)),e};I.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};I.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};I.integerToDer=function(t){var e=j.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};I.derToInteger=function(t){typeof t=="string"&&(t=j.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};I.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&j.util.isArray(e.value))for(var a=0,s=0;i&&s<e.value.length;++s)i=e.value[s].optional||!1,t.value[a]&&(i=I.validate(t.value[a],e.value[s],r,n),i?++a:e.value[s].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var zs=/[^\\u0000-\\u00ff]/;I.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",a=0;a<e*r;++a)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case I.Class.UNIVERSAL:n+="Universal:";break;case I.Class.APPLICATION:n+="Application:";break;case I.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case I.Class.PRIVATE:n+="Private:";break}if(t.tagClass===I.Class.UNIVERSAL)switch(n+=t.type,t.type){case I.Type.NONE:n+=" (None)";break;case I.Type.BOOLEAN:n+=" (Boolean)";break;case I.Type.INTEGER:n+=" (Integer)";break;case I.Type.BITSTRING:n+=" (Bit string)";break;case I.Type.OCTETSTRING:n+=" (Octet string)";break;case I.Type.NULL:n+=" (Null)";break;case I.Type.OID:n+=" (Object Identifier)";break;case I.Type.ODESC:n+=" (Object Descriptor)";break;case I.Type.EXTERNAL:n+=" (External or Instance of)";break;case I.Type.REAL:n+=" (Real)";break;case I.Type.ENUMERATED:n+=" (Enumerated)";break;case I.Type.EMBEDDED:n+=" (Embedded PDV)";break;case I.Type.UTF8:n+=" (UTF8)";break;case I.Type.ROID:n+=" (Relative Object Identifier)";break;case I.Type.SEQUENCE:n+=" (Sequence)";break;case I.Type.SET:n+=" (Set)";break;case I.Type.PRINTABLESTRING:n+=" (Printable String)";break;case I.Type.IA5String:n+=" (IA5String (ASCII))";break;case I.Type.UTCTIME:n+=" (UTC time)";break;case I.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case I.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,o="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(s+=1,o+=I.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(o+=","));n+=i+"Sub values: "+s+o}else{if(n+=i+"Value: ",t.type===I.Type.OID){var f=I.derToOid(t.value);n+=f,j.pki&&j.pki.oids&&f in j.pki.oids&&(n+=" ("+j.pki.oids[f]+") ")}if(t.type===I.Type.INTEGER)try{n+=I.derToInteger(t.value)}catch{n+="0x"+j.util.bytesToHex(t.value)}else if(t.type===I.Type.BITSTRING){if(t.value.length>1?n+="0x"+j.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===I.Type.OCTETSTRING)zs.test(t.value)||(n+="("+t.value+") "),n+="0x"+j.util.bytesToHex(t.value);else if(t.type===I.Type.UTF8)try{n+=j.util.decodeUtf8(t.value)}catch(u){if(u.message==="URI malformed")n+="0x"+j.util.bytesToHex(t.value)+" (malformed UTF8)";else throw u}else t.type===I.Type.PRINTABLESTRING||t.type===I.Type.IA5String?n+=t.value:zs.test(t.value)?n+="0x"+j.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var di=M((ty,Gs)=>{var dt=X();lt();Gs.exports=dt.cipher=dt.cipher||{};dt.cipher.algorithms=dt.cipher.algorithms||{};dt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=dt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new dt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};dt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=dt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new dt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};dt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),dt.cipher.algorithms[t]=e};dt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in dt.cipher.algorithms?dt.cipher.algorithms[t]:null};var pi=dt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};pi.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=dt.util.createBuffer(),this.output=t.output||dt.util.createBuffer(),this.mode.start(e)};pi.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};pi.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var gi=M((ey,Ws)=>{var yt=X();lt();yt.cipher=yt.cipher||{};var O=Ws.exports=yt.cipher.modes=yt.cipher.modes||{};O.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};O.ecb.prototype.start=function(t){};O.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};O.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};O.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};O.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};O.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};O.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=hn(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};O.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};O.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};O.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};O.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};O.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=yt.util.createBuffer(),this._partialBytes=0};O.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=hn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=yt.util.createBuffer(),this._partialBytes=0};O.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=hn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.ofb.prototype.decrypt=O.ofb.prototype.encrypt;O.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=yt.util.createBuffer(),this._partialBytes=0};O.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=hn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}ln(this._inBlock)};O.ctr.prototype.decrypt=O.ctr.prototype.encrypt;O.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=yt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};O.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=yt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=yt.util.createBuffer(t.additionalData):r=yt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=yt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(yi(n*8)))}this._inBlock=this._j0.slice(0),ln(this._inBlock),this._partialBytes=0,r=yt.util.createBuffer(r),this._aDataLength=yi(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};O.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ln(this._inBlock)};O.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ln(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};O.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=yt.util.createBuffer();var n=this._aDataLength.concat(yi(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};O.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var a=t[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};O.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};O.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,a=this._m[r][i];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};O.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};O.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var o=[0,0,0,0],f=s/n|0,c=(n-1-s%n)*e;o[f]=1<<e-1<<c,a[s]=this.generateSubHashTable(this.multiply(o,t),e)}return a};O.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var o=i[a],f=i[s];i[a+s]=[o[0]^f[0],o[1]^f[1],o[2]^f[2],o[3]^f[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var c=i[a^n];i[a]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function hn(t,e){if(typeof t=="string"&&(t=yt.util.createBuffer(t)),yt.util.isArray(t)&&t.length>4){var r=t;t=yt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!yt.util.isArray(t)){for(var i=[],a=e/4,n=0;n<a;++n)i.push(t.getInt32());t=i}return t}function ln(t){t[t.length-1]=t[t.length-1]+1&4294967295}function yi(t){return[t/4294967296|0,t&4294967295]}});var bi=M((ry,Qs)=>{var J=X();di();gi();lt();Qs.exports=J.aes=J.aes||{};J.aes.startEncrypting=function(t,e,r,n){var i=pn({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};J.aes.createEncryptionCipher=function(t,e){return pn({key:t,output:null,decrypt:!1,mode:e})};J.aes.startDecrypting=function(t,e,r,n){var i=pn({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};J.aes.createDecryptionCipher=function(t,e){return pn({key:t,output:null,decrypt:!0,mode:e})};J.aes.Algorithm=function(t,e){mi||Ys();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return vi(r._w,n,i,!1)},decrypt:function(n,i){return vi(r._w,n,i,!0)}}}),r._init=!1};J.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=J.util.createBuffer(e);else if(J.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=J.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!J.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!J.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=$s(e,t.decrypt&&!s),this._init=!0}};J.aes._expandKey=function(t,e){return mi||Ys(),$s(t,e)};J.aes._updateBlock=vi;We("AES-ECB",J.cipher.modes.ecb);We("AES-CBC",J.cipher.modes.cbc);We("AES-CFB",J.cipher.modes.cfb);We("AES-OFB",J.cipher.modes.ofb);We("AES-CTR",J.cipher.modes.ctr);We("AES-GCM",J.cipher.modes.gcm);function We(t,e){var r=function(){return new J.aes.Algorithm(t,e)};J.cipher.registerAlgorithm(t,r)}var mi=!1,Ge=4,wt,xi,Zs,Ie,qt;function Ys(){mi=!0,Zs=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;wt=new Array(256),xi=new Array(256),Ie=new Array(4),qt=new Array(4);for(var e=0;e<4;++e)Ie[e]=new Array(256),qt[e]=new Array(256);for(var r=0,n=0,i,a,s,o,f,c,u,e=0;e<256;++e){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,wt[r]=o,xi[o]=r,f=t[o],i=t[r],a=t[i],s=t[a],c=f<<24^o<<16^o<<8^(o^f),u=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var h=0;h<4;++h)Ie[h][r]=c,qt[h][o]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^t[t[t[i^s]]],n^=t[t[n]])}}function $s(t,e){for(var r=t.slice(0),n,i=1,a=r.length,s=a+6+1,o=Ge*s,f=a;f<o;++f)n=r[f-1],f%a===0?(n=wt[n>>>16&255]<<24^wt[n>>>8&255]<<16^wt[n&255]<<8^wt[n>>>24]^Zs[i]<<24,i++):a>6&&f%a===4&&(n=wt[n>>>24]<<24^wt[n>>>16&255]<<16^wt[n>>>8&255]<<8^wt[n&255]),r[f]=r[f-a]^n;if(e){var c,u=qt[0],h=qt[1],l=qt[2],y=qt[3],p=r.slice(0);o=r.length;for(var f=0,d=o-Ge;f<o;f+=Ge,d-=Ge)if(f===0||f===o-Ge)p[f]=r[d],p[f+1]=r[d+3],p[f+2]=r[d+2],p[f+3]=r[d+1];else for(var v=0;v<Ge;++v)c=r[d+v],p[f+(3&-v)]=u[wt[c>>>24]]^h[wt[c>>>16&255]]^l[wt[c>>>8&255]]^y[wt[c&255]];r=p}return r}function vi(t,e,r,n){var i=t.length/4-1,a,s,o,f,c;n?(a=qt[0],s=qt[1],o=qt[2],f=qt[3],c=xi):(a=Ie[0],s=Ie[1],o=Ie[2],f=Ie[3],c=wt);var u,h,l,y,p,d,v;u=e[0]^t[0],h=e[n?3:1]^t[1],l=e[2]^t[2],y=e[n?1:3]^t[3];for(var m=3,E=1;E<i;++E)p=a[u>>>24]^s[h>>>16&255]^o[l>>>8&255]^f[y&255]^t[++m],d=a[h>>>24]^s[l>>>16&255]^o[y>>>8&255]^f[u&255]^t[++m],v=a[l>>>24]^s[y>>>16&255]^o[u>>>8&255]^f[h&255]^t[++m],y=a[y>>>24]^s[u>>>16&255]^o[h>>>8&255]^f[l&255]^t[++m],u=p,h=d,l=v;r[0]=c[u>>>24]<<24^c[h>>>16&255]<<16^c[l>>>8&255]<<8^c[y&255]^t[++m],r[n?3:1]=c[h>>>24]<<24^c[l>>>16&255]<<16^c[y>>>8&255]<<8^c[u&255]^t[++m],r[2]=c[l>>>24]<<24^c[y>>>16&255]<<16^c[u>>>8&255]<<8^c[h&255]^t[++m],r[n?1:3]=c[y>>>24]<<24^c[u>>>16&255]<<16^c[h>>>8&255]<<8^c[l&255]^t[++m]}function pn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=J.cipher.createDecipher(r,t.key):n=J.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof J.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var js=M((ny,Js)=>{var nt=X();di();gi();lt();Js.exports=nt.des=nt.des||{};nt.des.startEncrypting=function(t,e,r,n){var i=dn({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};nt.des.createEncryptionCipher=function(t,e){return dn({key:t,output:null,decrypt:!1,mode:e})};nt.des.startDecrypting=function(t,e,r,n){var i=dn({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};nt.des.createDecryptionCipher=function(t,e){return dn({key:t,output:null,decrypt:!0,mode:e})};nt.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Xs(r._keys,n,i,!1)},decrypt:function(n,i){return Xs(r._keys,n,i,!0)}}}),r._init=!1};nt.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=nt.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=mc(e),this._init=!0}};Qt("DES-ECB",nt.cipher.modes.ecb);Qt("DES-CBC",nt.cipher.modes.cbc);Qt("DES-CFB",nt.cipher.modes.cfb);Qt("DES-OFB",nt.cipher.modes.ofb);Qt("DES-CTR",nt.cipher.modes.ctr);Qt("3DES-ECB",nt.cipher.modes.ecb);Qt("3DES-CBC",nt.cipher.modes.cbc);Qt("3DES-CFB",nt.cipher.modes.cfb);Qt("3DES-OFB",nt.cipher.modes.ofb);Qt("3DES-CTR",nt.cipher.modes.ctr);function Qt(t,e){var r=function(){return new nt.des.Algorithm(t,e)};nt.cipher.registerAlgorithm(t,r)}var hc=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],lc=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],pc=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],dc=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],yc=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],gc=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],xc=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],vc=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function mc(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],l=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],d=t.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,A,k=0;k<d;k++){var C=t.getInt32(),T=t.getInt32();A=(C>>>4^T)&252645135,T^=A,C^=A<<4,A=(T>>>-16^C)&65535,C^=A,T^=A<<-16,A=(C>>>2^T)&858993459,T^=A,C^=A<<2,A=(T>>>-16^C)&65535,C^=A,T^=A<<-16,A=(C>>>1^T)&1431655765,T^=A,C^=A<<1,A=(T>>>8^C)&16711935,C^=A,T^=A<<8,A=(C>>>1^T)&1431655765,T^=A,C^=A<<1,A=C<<8|T>>>20&240,C=T<<24|T<<8&16711680|T>>>8&65280|T>>>24&240,T=A;for(var P=0;P<m.length;++P){m[P]?(C=C<<2|C>>>26,T=T<<2|T>>>26):(C=C<<1|C>>>27,T=T<<1|T>>>27),C&=-15,T&=-15;var K=e[C>>>28]|r[C>>>24&15]|n[C>>>20&15]|i[C>>>16&15]|a[C>>>12&15]|s[C>>>8&15]|o[C>>>4&15],ft=f[T>>>28]|c[T>>>24&15]|u[T>>>20&15]|h[T>>>16&15]|l[T>>>12&15]|y[T>>>8&15]|p[T>>>4&15];A=(ft>>>16^K)&65535,v[E++]=K^A,v[E++]=ft^A<<16}}return v}function Xs(t,e,r,n){var i=t.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=e[0],f=e[1];s=(o>>>4^f)&252645135,f^=s,o^=s<<4,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,o=o<<1|o>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=a[c+1],h=a[c+2],l=a[c];l!=u;l+=h){var y=f^t[l],p=(f>>>4|f<<28)^t[l+1];s=o,o=f,f=s^(lc[y>>>24&63]|dc[y>>>16&63]|gc[y>>>8&63]|vc[y&63]|hc[p>>>24&63]|pc[p>>>16&63]|yc[p>>>8&63]|xc[p&63])}s=o,o=f,f=s}o=o>>>1|o<<31,f=f>>>1|f<<31,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(o>>>4^f)&252645135,f^=s,o^=s<<4,r[0]=o,r[1]=f}function dn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=nt.cipher.createDecipher(r,t.key):n=nt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof nt.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var _e=M((iy,to)=>{var yn=X();to.exports=yn.md=yn.md||{};yn.md.algorithms=yn.md.algorithms||{}});var ro=M((ay,eo)=>{var ae=X();_e();lt();var bc=eo.exports=ae.hmac=ae.hmac||{};bc.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in ae.md.algorithms)e=ae.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(s===null)s=t;else{if(typeof s=="string")s=ae.util.createBuffer(s);else if(ae.util.isArray(s)){var o=s;s=ae.util.createBuffer();for(var f=0;f<o.length;++f)s.putByte(o[f])}var c=s.length();c>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=ae.util.createBuffer(),n=ae.util.createBuffer(),c=s.length();for(var f=0;f<c;++f){var o=s.at(f);r.putByte(54^o),n.putByte(92^o)}if(c<e.blockLength)for(var o=e.blockLength-c,f=0;f<o;++f)r.putByte(54),n.putByte(92);t=s,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(a){e.update(a)},i.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},i.digest=i.getMac,i}});var Ze=M(()=>{});var io=M((fy,no)=>{var St=X();ro();_e();lt();var wc=St.pkcs5=St.pkcs5||{},se;St.util.isNodejs&&!St.options.usePureJavaScript&&(se=Ze());no.exports=St.pbkdf2=wc.pbkdf2=function(t,e,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),St.util.isNodejs&&!St.options.usePureJavaScript&&se.pbkdf2&&(i===null||typeof i!="object")&&(se.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?se.pbkdf2Sync.length===4?se.pbkdf2(t,e,r,n,function(A,k){if(A)return a(A);a(null,k.toString("binary"))}):se.pbkdf2(t,e,r,n,i,function(A,k){if(A)return a(A);a(null,k.toString("binary"))}):se.pbkdf2Sync.length===4?se.pbkdf2Sync(t,e,r,n).toString("binary"):se.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in St.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=St.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var f=Math.ceil(n/s),c=n-(f-1)*s,u=St.hmac.create();u.start(i,t);var h="",l,y,p;if(!a){for(var d=1;d<=f;++d){u.start(null,null),u.update(e),u.update(St.util.int32ToBytes(d)),l=p=u.digest().getBytes();for(var v=2;v<=r;++v)u.start(null,null),u.update(p),y=u.digest().getBytes(),l=St.util.xorBytes(l,y,s),p=y;h+=d<f?l:l.substr(0,c)}return h}var d=1,v;function m(){if(d>f)return a(null,h);u.start(null,null),u.update(e),u.update(St.util.int32ToBytes(d)),l=p=u.digest().getBytes(),v=2,E()}function E(){if(v<=r)return u.start(null,null),u.update(p),y=u.digest().getBytes(),l=St.util.xorBytes(l,y,s),p=y,++v,St.util.setImmediate(E);h+=d<f?l:l.substr(0,c),++d,m()}m()}});var oo=M((cy,so)=>{var xn=X();lt();var ao=so.exports=xn.pem=xn.pem||{};ao.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=gn(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=gn(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=gn(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=gn(t.headers[i]);return t.procType&&(r+=`\r
`),r+=xn.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};ao.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(t),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var o={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:xn.util.decode64(a[3])};if(e.push(o),!!a[2]){for(var f=a[2].split(i),c=0;a&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),h=c+1;h<f.length;++h){var l=f[h];if(!/\s/.test(l[0]))break;u+=l,c=h}if(a=u.match(n),a){for(var y={name:a[1],values:[]},p=a[2].split(","),d=0;d<p.length;++d)y.values.push(Sc(p[d]));if(o.procType)if(!o.contentDomain&&y.name==="Content-Domain")o.contentDomain=p[0]||"";else if(!o.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:p[0],parameters:p[1]||null}}else o.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:p[0],type:p[1]}}}++c}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function gn(t){for(var e=t.name+": ",r=[],n=function(f,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<e.length;++i,++a)if(a>65&&s!==-1){var o=e[s];o===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+o+e.substr(s+1),a=i-s-1,s=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(s=i);return e}function Sc(t){return t.replace(/^\s+/,"")}});var po=M((uy,lo)=>{var Xt=X();_e();lt();var co=lo.exports=Xt.sha256=Xt.sha256||{};Xt.md.sha256=Xt.md.algorithms.sha256=co;co.create=function(){uo||Ec();var t=null,e=Xt.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=Xt.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Xt.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),fo(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Xt.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(wi.substr(0,n.blockLength-s));for(var o,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)o=n.fullMessageLength[u+1]*8,f=o/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=o>>>0;i.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};fo(h,r,i);var l=Xt.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l.putInt32(h.h5),l.putInt32(h.h6),l.putInt32(h.h7),l},n};var wi=null,uo=!1,ho=null;function Ec(){wi=String.fromCharCode(128),wi+=Xt.util.fillString(String.fromCharCode(0),64),ho=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],uo=!0}function fo(t,e,r){for(var n,i,a,s,o,f,c,u,h,l,y,p,d,v,m,E=r.length();E>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(u=t.h0,h=t.h1,l=t.h2,y=t.h3,p=t.h4,d=t.h5,v=t.h6,m=t.h7,c=0;c<64;++c)s=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),o=v^p&(d^v),a=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&h|l&(u^h),n=m+s+o+ho[c]+e[c],i=a+f,m=v,v=d,d=p,p=y+n>>>0,y=l,l=h,h=u,u=n+i>>>0;t.h0=t.h0+u|0,t.h1=t.h1+h|0,t.h2=t.h2+l|0,t.h3=t.h3+y|0,t.h4=t.h4+p|0,t.h5=t.h5+d|0,t.h6=t.h6+v|0,t.h7=t.h7+m|0,E-=64}}});var go=M((hy,yo)=>{var Jt=X();lt();var vn=null;Jt.util.isNodejs&&!Jt.options.usePureJavaScript&&!process.versions["node-webkit"]&&(vn=Ze());var Bc=yo.exports=Jt.prng=Jt.prng||{};Bc.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,u){if(!u)return e.generateSync(c);var h=e.plugin.cipher,l=e.plugin.increment,y=e.plugin.formatKey,p=e.plugin.formatSeed,d=Jt.util.createBuffer();e.key=null,v();function v(m){if(m)return u(m);if(d.length()>=c)return u(null,d.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Jt.util.nextTick(function(){a(v)});var E=h(e.key,e.seed);e.generated+=E.length,d.putBytes(E),e.key=y(h(e.key,l(e.seed))),e.seed=p(h(e.key,e.seed)),Jt.util.setImmediate(v)}},e.generateSync=function(c){var u=e.plugin.cipher,h=e.plugin.increment,l=e.plugin.formatKey,y=e.plugin.formatSeed;e.key=null;for(var p=Jt.util.createBuffer();p.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&s();var d=u(e.key,e.seed);e.generated+=d.length,p.putBytes(d),e.key=l(u(e.key,h(e.seed))),e.seed=y(u(e.key,e.seed))}return p.getBytes(c)};function a(c){if(e.pools[0].messageLength>=32)return o(),c();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(h,l){if(h)return c(h);e.collect(l),o(),c()})}function s(){if(e.pools[0].messageLength>=32)return o();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var u=1,h=0;h<32;++h)e.reseeds%u===0&&(c.update(e.pools[h].digest().getBytes()),e.pools[h].start()),u=u<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var l=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(l),e.generated=0}function f(c){var u=null,h=Jt.util.globalScope,l=h.crypto||h.msCrypto;l&&l.getRandomValues&&(u=function(C){return l.getRandomValues(C)});var y=Jt.util.createBuffer();if(u)for(;y.length()<c;){var p=Math.max(1,Math.min(c-y.length(),65536)/4),d=new Uint32Array(Math.floor(p));try{u(d);for(var v=0;v<d.length;++v)y.putInt32(d[v])}catch(C){if(!(typeof QuotaExceededError<"u"&&C instanceof QuotaExceededError))throw C}}if(y.length()<c)for(var m,E,A,k=Math.floor(Math.random()*65536);y.length()<c;){E=16807*(k&65535),m=16807*(k>>16),E+=(m&32767)<<16,E+=m>>15,E=(E&2147483647)+(E>>31),k=E&4294967295;for(var v=0;v<3;++v)A=k>>>(v<<3),A^=Math.floor(Math.random()*256),y.putByte(A&255)}return y.getBytes(c)}return vn?(e.seedFile=function(c,u){vn.randomBytes(c,function(h,l){if(h)return u(h);u(null,l.toString())})},e.seedFileSync=function(c){return vn.randomBytes(c).toString()}):(e.seedFile=function(c,u){try{u(null,f(c))}catch(h){u(h)}},e.seedFileSync=f),e.collect=function(c){for(var u=c.length,h=0;h<u;++h)e.pools[e.pool].update(c.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,u){for(var h="",l=0;l<u;l+=8)h+=String.fromCharCode(c>>l&255);e.collect(h)},e.registerWorker=function(c){if(c===self)e.seedFile=function(h,l){function y(p){var d=p.data;d.forge&&d.forge.prng&&(self.removeEventListener("message",y),l(d.forge.prng.err,d.forge.prng.bytes))}self.addEventListener("message",y),self.postMessage({forge:{prng:{needed:h}}})};else{var u=function(h){var l=h.data;l.forge&&l.forge.prng&&e.seedFile(l.forge.prng.needed,function(y,p){c.postMessage({forge:{prng:{err:y,bytes:p}}})})};c.addEventListener("message",u)}},e}});var Cr=M((ly,Si)=>{var gt=X();bi();po();go();lt();(function(){if(gt.random&&gt.random.getBytes){Si.exports=gt.random;return}(function(t){var e={},r=new Array(4),n=gt.util.createBuffer();e.formatKey=function(h){var l=gt.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),gt.aes._expandKey(h,!1)},e.formatSeed=function(h){var l=gt.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),h},e.cipher=function(h,l){return gt.aes._updateBlock(h,l,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(h){return++h[3],h},e.md=gt.md.sha256;function i(){var h=gt.prng.create(e);return h.getBytes=function(l,y){return h.generate(l,y)},h.getBytesSync=function(l){return h.generate(l)},h}var a=i(),s=null,o=gt.util.globalScope,f=o.crypto||o.msCrypto;if(f&&f.getRandomValues&&(s=function(h){return f.getRandomValues(h)}),gt.options.usePureJavaScript||!gt.util.isNodejs&&!s){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}a.collect(c),c=null}t&&(t().mousemove(function(h){a.collectInt(h.clientX,16),a.collectInt(h.clientY,16)}),t().keypress(function(h){a.collectInt(h.charCode,8)}))}if(!gt.random)gt.random=a;else for(var u in a)gt.random[u]=a[u];gt.random.createInstance=i,Si.exports=gt.random})(typeof jQuery<"u"?jQuery:null)})()});var bo=M((py,mo)=>{var Bt=X();lt();var Ei=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],xo=[1,2,3,5],Ac=function(t,e){return t<<e&65535|(t&65535)>>16-e},Cc=function(t,e){return(t&65535)>>e|t<<16-e&65535};mo.exports=Bt.rc2=Bt.rc2||{};Bt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Bt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,a=Math.ceil(i/8),s=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(Ei[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-a,Ei[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,Ei[r.at(o+1)^r.at(o+a)]);return r};var vo=function(t,e,r){var n=!1,i=null,a=null,s=null,o,f,c,u,h=[];for(t=Bt.rc2.expandKey(t,e),c=0;c<64;c++)h.push(t.getInt16Le());r?(o=function(p){for(c=0;c<4;c++)p[c]+=h[u]+(p[(c+3)%4]&p[(c+2)%4])+(~p[(c+3)%4]&p[(c+1)%4]),p[c]=Ac(p[c],xo[c]),u++},f=function(p){for(c=0;c<4;c++)p[c]+=h[p[(c+3)%4]&63]}):(o=function(p){for(c=3;c>=0;c--)p[c]=Cc(p[c],xo[c]),p[c]-=h[u]+(p[(c+3)%4]&p[(c+2)%4])+(~p[(c+3)%4]&p[(c+1)%4]),u--},f=function(p){for(c=3;c>=0;c--)p[c]-=h[p[(c+3)%4]&63]});var l=function(p){var d=[];for(c=0;c<4;c++){var v=i.getInt16Le();s!==null&&(r?v^=s.getInt16Le():s.putInt16Le(v)),d.push(v&65535)}u=r?0:63;for(var m=0;m<p.length;m++)for(var E=0;E<p[m][0];E++)p[m][1](d);for(c=0;c<4;c++)s!==null&&(r?s.putInt16Le(d[c]):d[c]^=s.getInt16Le()),a.putInt16Le(d[c])},y=null;return y={start:function(p,d){p&&typeof p=="string"&&(p=Bt.util.createBuffer(p)),n=!1,i=Bt.util.createBuffer(),a=d||new Bt.util.createBuffer,s=p,y.output=a},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)l([[5,o],[1,f],[6,o],[1,f],[5,o]])},finish:function(p){var d=!0;if(r)if(p)d=p(8,i,!r);else{var v=i.length()===8?8:8-i.length();i.fillWithByte(v,v)}if(d&&(n=!0,y.update()),!r&&(d=i.length()===0,d))if(p)d=p(8,a,!r);else{var m=a.length(),E=a.at(m-1);E>m?d=!1:a.truncate(E)}return d}},y};Bt.rc2.startEncrypting=function(t,e,r){var n=Bt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Bt.rc2.createEncryptionCipher=function(t,e){return vo(t,e,!0)};Bt.rc2.startDecrypting=function(t,e,r){var n=Bt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Bt.rc2.createDecryptionCipher=function(t,e){return vo(t,e,!1)}});var wn=M((dy,Io)=>{var Bi=X();Io.exports=Bi.jsbn=Bi.jsbn||{};var oe,Tc=0xdeadbeefcafe,wo=(Tc&16777215)==15715070;function w(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}Bi.jsbn.BigInteger=w;function W(){return new w(null)}function Ic(t,e,r,n,i,a){for(;--a>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function _c(t,e,r,n,i,a){for(var s=e&32767,o=e>>15;--a>=0;){var f=this.data[t]&32767,c=this.data[t++]>>15,u=o*f+c*s;f=s*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+o*c+(i>>>30),r.data[n++]=f&1073741823}return i}function So(t,e,r,n,i,a){for(var s=e&16383,o=e>>14;--a>=0;){var f=this.data[t]&16383,c=this.data[t++]>>14,u=o*f+c*s;f=s*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+o*c,r.data[n++]=f&268435455}return i}typeof navigator>"u"?(w.prototype.am=So,oe=28):wo&&navigator.appName=="Microsoft Internet Explorer"?(w.prototype.am=_c,oe=30):wo&&navigator.appName!="Netscape"?(w.prototype.am=Ic,oe=26):(w.prototype.am=So,oe=28);w.prototype.DB=oe;w.prototype.DM=(1<<oe)-1;w.prototype.DV=1<<oe;var Ai=52;w.prototype.FV=Math.pow(2,Ai);w.prototype.F1=Ai-oe;w.prototype.F2=2*oe-Ai;var Rc="0123456789abcdefghijklmnopqrstuvwxyz",mn=new Array,Ye,Lt;Ye="0".charCodeAt(0);for(Lt=0;Lt<=9;++Lt)mn[Ye++]=Lt;Ye="a".charCodeAt(0);for(Lt=10;Lt<36;++Lt)mn[Ye++]=Lt;Ye="A".charCodeAt(0);for(Lt=10;Lt<36;++Lt)mn[Ye++]=Lt;function Eo(t){return Rc.charAt(t)}function Bo(t,e){var r=mn[t.charCodeAt(e)];return r??-1}function kc(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function Dc(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function ge(t){var e=W();return e.fromInt(t),e}function Nc(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,a=0;--n>=0;){var s=r==8?t[n]&255:Bo(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&t[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&w.ZERO.subTo(this,this)}function Lc(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Pc(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,a="",s=this.t,o=this.DB-s*this.DB%e;if(s-- >0)for(o<this.DB&&(n=this.data[s]>>o)>0&&(i=!0,a=Eo(n));s>=0;)o<e?(n=(this.data[s]&(1<<o)-1)<<e-o,n|=this.data[--s]>>(o+=this.DB-e)):(n=this.data[s]>>(o-=e)&r,o<=0&&(o+=this.DB,--s)),n>0&&(i=!0),i&&(a+=Eo(n));return i?a:"0"}function Uc(){var t=W();return w.ZERO.subTo(this,t),t}function Kc(){return this.s<0?this.negate():this}function Fc(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function bn(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Mc(){return this.t<=0?0:this.DB*(this.t-1)+bn(this.data[this.t-1]^this.s&this.DM)}function Oc(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Vc(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function qc(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+a+1]=this.data[o]>>n|s,s=(this.data[o]&i)<<r;for(o=a-1;o>=0;--o)e.data[o]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function zc(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&a)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}function Hc(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Gc(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&w.ZERO.subTo(e,e)}function Wc(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Zc(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=W());var a=W(),s=this.s,o=t.s,f=this.DB-bn(n.data[n.t-1]);f>0?(n.lShiftTo(f,a),i.lShiftTo(f,r)):(n.copyTo(a),i.copyTo(r));var c=a.t,u=a.data[c-1];if(u!=0){var h=u*(1<<this.F1)+(c>1?a.data[c-2]>>this.F2:0),l=this.FV/h,y=(1<<this.F1)/h,p=1<<this.F2,d=r.t,v=d-c,m=e??W();for(a.dlShiftTo(v,m),r.compareTo(m)>=0&&(r.data[r.t++]=1,r.subTo(m,r)),w.ONE.dlShiftTo(c,m),m.subTo(a,a);a.t<c;)a.data[a.t++]=0;for(;--v>=0;){var E=r.data[--d]==u?this.DM:Math.floor(r.data[d]*l+(r.data[d-1]+p)*y);if((r.data[d]+=a.am(0,E,r,v,0,c))<E)for(a.dlShiftTo(v,m),r.subTo(m,r);r.data[d]<--E;)r.subTo(m,r)}e!=null&&(r.drShiftTo(c,e),s!=o&&w.ZERO.subTo(e,e)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),s<0&&w.ZERO.subTo(r,r)}}}function Yc(t){var e=W();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(w.ZERO)>0&&t.subTo(e,e),e}function Re(t){this.m=t}function $c(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Qc(t){return t}function Xc(t){t.divRemTo(this.m,null,t)}function Jc(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function jc(t,e){t.squareTo(e),this.reduce(e)}Re.prototype.convert=$c;Re.prototype.revert=Qc;Re.prototype.reduce=Xc;Re.prototype.mulTo=Jc;Re.prototype.sqrTo=jc;function tu(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function ke(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function eu(t){var e=W();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(w.ZERO)>0&&this.m.subTo(e,e),e}function ru(t){var e=W();return t.copyTo(e),this.reduce(e),e}function nu(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function iu(t,e){t.squareTo(e),this.reduce(e)}function au(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ke.prototype.convert=eu;ke.prototype.revert=ru;ke.prototype.reduce=nu;ke.prototype.mulTo=au;ke.prototype.sqrTo=iu;function su(){return(this.t>0?this.data[0]&1:this.s)==0}function ou(t,e){if(t>4294967295||t<1)return w.ONE;var r=W(),n=W(),i=e.convert(this),a=bn(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function fu(t,e){var r;return t<256||e.isEven()?r=new Re(e):r=new ke(e),this.exp(t,r)}w.prototype.copyTo=kc;w.prototype.fromInt=Dc;w.prototype.fromString=Nc;w.prototype.clamp=Lc;w.prototype.dlShiftTo=Oc;w.prototype.drShiftTo=Vc;w.prototype.lShiftTo=qc;w.prototype.rShiftTo=zc;w.prototype.subTo=Hc;w.prototype.multiplyTo=Gc;w.prototype.squareTo=Wc;w.prototype.divRemTo=Zc;w.prototype.invDigit=tu;w.prototype.isEven=su;w.prototype.exp=ou;w.prototype.toString=Pc;w.prototype.negate=Uc;w.prototype.abs=Kc;w.prototype.compareTo=Fc;w.prototype.bitLength=Mc;w.prototype.mod=Yc;w.prototype.modPowInt=fu;w.ZERO=ge(0);w.ONE=ge(1);function cu(){var t=W();return this.copyTo(t),t}function uu(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function hu(){return this.t==0?this.s:this.data[0]<<24>>24}function lu(){return this.t==0?this.s:this.data[0]<<16>>16}function pu(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function du(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function yu(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=ge(r),i=W(),a=W(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(t)+s}function gu(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,a=0,s=0,o=0;o<t.length;++o){var f=Bo(t,o);if(f<0){t.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+f,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),i&&w.ZERO.subTo(this,this)}function xu(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(w.ONE.shiftLeft(t-1),Ci,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(w.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function vu(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function mu(t){return this.compareTo(t)==0}function bu(t){return this.compareTo(t)<0?this:t}function wu(t){return this.compareTo(t)>0?this:t}function Su(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Eu(t,e){return t&e}function Bu(t){var e=W();return this.bitwiseTo(t,Eu,e),e}function Ci(t,e){return t|e}function Au(t){var e=W();return this.bitwiseTo(t,Ci,e),e}function Ao(t,e){return t^e}function Cu(t){var e=W();return this.bitwiseTo(t,Ao,e),e}function Co(t,e){return t&~e}function Tu(t){var e=W();return this.bitwiseTo(t,Co,e),e}function Iu(){for(var t=W(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function _u(t){var e=W();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Ru(t){var e=W();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function ku(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function Du(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+ku(this.data[t]);return this.s<0?this.t*this.DB:-1}function Nu(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Lu(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Nu(this.data[r]^e);return t}function Pu(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Uu(t,e){var r=w.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Ku(t){return this.changeBit(t,Ci)}function Fu(t){return this.changeBit(t,Co)}function Mu(t){return this.changeBit(t,Ao)}function Ou(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Vu(t){var e=W();return this.addTo(t,e),e}function qu(t){var e=W();return this.subTo(t,e),e}function zu(t){var e=W();return this.multiplyTo(t,e),e}function Hu(t){var e=W();return this.divRemTo(t,e,null),e}function Gu(t){var e=W();return this.divRemTo(t,null,e),e}function Wu(t){var e=W(),r=W();return this.divRemTo(t,e,r),new Array(e,r)}function Zu(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Yu(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function Tr(){}function To(t){return t}function $u(t,e,r){t.multiplyTo(e,r)}function Qu(t,e){t.squareTo(e)}Tr.prototype.convert=To;Tr.prototype.revert=To;Tr.prototype.mulTo=$u;Tr.prototype.sqrTo=Qu;function Xu(t){return this.exp(t,new Tr)}function Ju(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function ju(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function $e(t){this.r2=W(),this.q3=W(),w.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function th(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=W();return t.copyTo(e),this.reduce(e),e}function eh(t){return t}function rh(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function nh(t,e){t.squareTo(e),this.reduce(e)}function ih(t,e,r){t.multiplyTo(e,r),this.reduce(r)}$e.prototype.convert=th;$e.prototype.revert=eh;$e.prototype.reduce=rh;$e.prototype.mulTo=ih;$e.prototype.sqrTo=nh;function ah(t,e){var r=t.bitLength(),n,i=ge(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new Re(e):e.isEven()?a=new $e(e):a=new ke(e);var s=new Array,o=3,f=n-1,c=(1<<n)-1;if(s[1]=a.convert(this),n>1){var u=W();for(a.sqrTo(s[1],u);o<=c;)s[o]=W(),a.mulTo(u,s[o-2],s[o]),o+=2}var h=t.t-1,l,y=!0,p=W(),d;for(r=bn(t.data[h])-1;h>=0;){for(r>=f?l=t.data[h]>>r-f&c:(l=(t.data[h]&(1<<r+1)-1)<<f-r,h>0&&(l|=t.data[h-1]>>this.DB+r-f)),o=n;!(l&1);)l>>=1,--o;if((r-=o)<0&&(r+=this.DB,--h),y)s[l].copyTo(i),y=!1;else{for(;o>1;)a.sqrTo(i,p),a.sqrTo(p,i),o-=2;o>0?a.sqrTo(i,p):(d=i,i=p,p=d),a.mulTo(p,s[l],i)}for(;h>=0&&!(t.data[h]&1<<r);)a.sqrTo(i,p),d=i,i=p,p=d,--r<0&&(r=this.DB-1,--h)}return a.revert(i)}function sh(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function oh(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function fh(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return w.ZERO;for(var r=t.clone(),n=this.clone(),i=ge(1),a=ge(0),s=ge(0),o=ge(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),a.subTo(o,a)):(n.subTo(r,n),e&&s.subTo(i,s),o.subTo(a,o))}if(n.compareTo(w.ONE)!=0)return w.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var zt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ch=(1<<26)/zt[zt.length-1];function uh(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=zt[zt.length-1]){for(e=0;e<zt.length;++e)if(r.data[0]==zt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<zt.length;){for(var n=zt[e],i=e+1;i<zt.length&&n<ch;)n*=zt[i++];for(n=r.modInt(n);e<i;)if(n%zt[e++]==0)return!1}return r.millerRabin(t)}function hh(t){var e=this.subtract(w.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=lh(),a,s=0;s<t;++s){do a=new w(this.bitLength(),i);while(a.compareTo(w.ONE)<=0||a.compareTo(e)>=0);var o=a.modPow(n,this);if(o.compareTo(w.ONE)!=0&&o.compareTo(e)!=0){for(var f=1;f++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(w.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function lh(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}w.prototype.chunkSize=pu;w.prototype.toRadix=yu;w.prototype.fromRadix=gu;w.prototype.fromNumber=xu;w.prototype.bitwiseTo=Su;w.prototype.changeBit=Uu;w.prototype.addTo=Ou;w.prototype.dMultiply=Zu;w.prototype.dAddOffset=Yu;w.prototype.multiplyLowerTo=Ju;w.prototype.multiplyUpperTo=ju;w.prototype.modInt=oh;w.prototype.millerRabin=hh;w.prototype.clone=cu;w.prototype.intValue=uu;w.prototype.byteValue=hu;w.prototype.shortValue=lu;w.prototype.signum=du;w.prototype.toByteArray=vu;w.prototype.equals=mu;w.prototype.min=bu;w.prototype.max=wu;w.prototype.and=Bu;w.prototype.or=Au;w.prototype.xor=Cu;w.prototype.andNot=Tu;w.prototype.not=Iu;w.prototype.shiftLeft=_u;w.prototype.shiftRight=Ru;w.prototype.getLowestSetBit=Du;w.prototype.bitCount=Lu;w.prototype.testBit=Pu;w.prototype.setBit=Ku;w.prototype.clearBit=Fu;w.prototype.flipBit=Mu;w.prototype.add=Vu;w.prototype.subtract=qu;w.prototype.multiply=zu;w.prototype.divide=Hu;w.prototype.remainder=Gu;w.prototype.divideAndRemainder=Wu;w.prototype.modPow=ah;w.prototype.modInverse=fh;w.prototype.pow=Xu;w.prototype.gcd=sh;w.prototype.isProbablePrime=uh});var No=M((yy,Do)=>{var jt=X();_e();lt();var Ro=Do.exports=jt.sha1=jt.sha1||{};jt.md.sha1=jt.md.algorithms.sha1=Ro;Ro.create=function(){ko||ph();var t=null,e=jt.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=jt.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=jt.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),_o(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=jt.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(Ti.substr(0,n.blockLength-s));for(var o,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)o=n.fullMessageLength[u+1]*8,f=o/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=o>>>0;i.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};_o(h,r,i);var l=jt.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l},n};var Ti=null,ko=!1;function ph(){Ti=String.fromCharCode(128),Ti+=jt.util.fillString(String.fromCharCode(0),64),ko=!0}function _o(t,e,r){for(var n,i,a,s,o,f,c,u,h=r.length();h>=64;){for(i=t.h0,a=t.h1,s=t.h2,o=t.h3,f=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,c=o^a&(s^o),n=(i<<5|i>>>27)+c+f+1518500249+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<20;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=o^a&(s^o),n=(i<<5|i>>>27)+c+f+1518500249+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<32;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=a^s^o,n=(i<<5|i>>>27)+c+f+1859775393+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<40;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=a^s^o,n=(i<<5|i>>>27)+c+f+1859775393+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<60;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=a&s|o&(a^s),n=(i<<5|i>>>27)+c+f+2400959708+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<80;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=a^s^o,n=(i<<5|i>>>27)+c+f+3395469782+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+s|0,t.h3=t.h3+o|0,t.h4=t.h4+f|0,h-=64}}});var Uo=M((gy,Po)=>{var te=X();lt();Cr();No();var Lo=Po.exports=te.pkcs1=te.pkcs1||{};Lo.encode_rsa_oaep=function(t,e,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=te.md.sha1.create(),s||(s=a);var o=Math.ceil(t.n.bitLength()/8),f=o-2*a.digestLength-2;if(e.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=f,c}n||(n=""),a.update(n,"raw");for(var u=a.digest(),h="",l=f-e.length,y=0;y<l;y++)h+="\0";var p=u.getBytes()+h+""+e;if(!i)i=te.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=a.digestLength,c}var d=Sn(i,o-a.digestLength-1,s),v=te.util.xorBytes(p,d,p.length),m=Sn(v,a.digestLength,s),E=te.util.xorBytes(i,m,i.length);return"\0"+E+v};Lo.decode_rsa_oaep=function(t,e,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var v=new Error("RSAES-OAEP encoded message length is invalid.");throw v.length=e.length,v.expectedLength=s,v}if(i===void 0?i=te.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),f=e.charAt(0),c=e.substring(1,i.digestLength+1),u=e.substring(1+i.digestLength),h=Sn(u,i.digestLength,a),l=te.util.xorBytes(c,h,c.length),y=Sn(l,s-i.digestLength-1,a),p=te.util.xorBytes(u,y,u.length),d=p.substring(0,i.digestLength),v=f!=="\0",m=0;m<i.digestLength;++m)v|=o.charAt(m)!==d.charAt(m);for(var E=1,A=i.digestLength,k=i.digestLength;k<p.length;k++){var C=p.charCodeAt(k),T=C&1^1,P=E?65534:0;v|=C&P,E=E&T,A+=E}if(v||p.charCodeAt(A)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(A+1)};function Sn(t,e,r){r||(r=te.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+s),n+=r.digest().getBytes()}return n.substring(0,e)}});var Ko=M((xy,Ii)=>{var xe=X();lt();wn();Cr();(function(){if(xe.prime){Ii.exports=xe.prime;return}var t=Ii.exports=xe.prime=xe.prime||{},e=xe.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(h,l){return h|l};t.generateProbablePrime=function(h,l,y){typeof l=="function"&&(y=l,l={}),l=l||{};var p=l.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var d=l.prng||xe.random,v={nextBytes:function(m){for(var E=d.getBytesSync(m.length),A=0;A<m.length;++A)m[A]=E.charCodeAt(A)}};if(p.name==="PRIMEINC")return a(h,v,p.options,y);throw new Error("Invalid prime generation algorithm: "+p.name)};function a(h,l,y,p){return"workers"in y?f(h,l,y,p):s(h,l,y,p)}function s(h,l,y,p){var d=c(h,l),v=0,m=u(d.bitLength());"millerRabinTests"in y&&(m=y.millerRabinTests);var E=10;"maxBlockTime"in y&&(E=y.maxBlockTime),o(d,h,l,v,m,E,p)}function o(h,l,y,p,d,v,m){var E=+new Date;do{if(h.bitLength()>l&&(h=c(l,y)),h.isProbablePrime(d))return m(null,h);h.dAddOffset(r[p++%8],0)}while(v<0||+new Date-E<v);xe.util.setImmediate(function(){o(h,l,y,p,d,v,m)})}function f(h,l,y,p){if(typeof Worker>"u")return s(h,l,y,p);var d=c(h,l),v=y.workers,m=y.workLoad||100,E=m*30/8,A=y.workerScript||"forge/prime.worker.js";if(v===-1)return xe.util.estimateCores(function(C,T){C&&(T=2),v=T-1,k()});k();function k(){v=Math.max(1,v);for(var C=[],T=0;T<v;++T)C[T]=new Worker(A);for(var P=v,T=0;T<v;++T)C[T].addEventListener("message",ft);var K=!1;function ft(Mt){if(!K){--P;var Tt=Mt.data;if(Tt.found){for(var bt=0;bt<C.length;++bt)C[bt].terminate();return K=!0,p(null,new e(Tt.prime,16))}d.bitLength()>h&&(d=c(h,l));var Me=d.toString(16);Mt.target.postMessage({hex:Me,workLoad:m}),d.dAddOffset(E,0)}}}}function c(h,l){var y=new e(h,l),p=h-1;return y.testBit(p)||y.bitwiseTo(e.ONE.shiftLeft(p),i,y),y.dAddOffset(31-y.mod(n).byteValue(),0),y}function u(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var Bn=M((vy,Ho)=>{var N=X();Ar();wn();cn();Uo();Ko();Cr();lt();typeof V>"u"&&(V=N.jsbn.BigInteger);var V,_i=N.util.isNodejs?Ze():null,x=N.asn1,Pt=N.util;N.pki=N.pki||{};Ho.exports=N.pki.rsa=N.rsa=N.rsa||{};var U=N.pki,dh=[6,4,2,4,2,4,6,2],yh={name:"PrivateKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},gh={name:"RSAPrivateKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},xh={name:"RSAPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},vh=N.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},mh={name:"DigestInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:x.Class.UNIVERSAL,type:x.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:x.Class.UNIVERSAL,type:x.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},bh=function(t){var e;if(t.algorithm in U.oids)e=U.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=x.oidToDer(e).getBytes(),i=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]),a=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);a.value.push(x.create(x.Class.UNIVERSAL,x.Type.OID,!1,n)),a.value.push(x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,""));var s=x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(s),x.toDer(i).getBytes()},qo=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(V.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(V.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new V(N.util.bytesToHex(N.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(V.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(a)<0;)i=i.add(e.p);var s=i.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return s=s.multiply(n.modInverse(e.n)).mod(e.n),s};U.rsa.encrypt=function(t,e,r){var n=r,i,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=zo(t,e,r)):(i=N.util.createBuffer(),i.putBytes(t));for(var s=new V(i.toHex(),16),o=qo(s,e,n),f=o.toString(16),c=N.util.createBuffer(),u=a-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(N.util.hexToBytes(f)),c.getBytes()};U.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=i,a}var s=new V(N.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=qo(s,e,r),f=o.toString(16),c=N.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(N.util.hexToBytes(f)),n!==!1?En(c.getBytes(),e,r):c.getBytes()};U.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||N.random,i={nextBytes:function(o){for(var f=n.getBytesSync(o.length),c=0;c<o.length;++c)o[c]=f.charCodeAt(c)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:t,rng:i,eInt:e||65537,e:new V(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};U.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new V(null);r.fromInt(30);for(var n=0,i=function(h,l){return h|l},a=+new Date,s,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,c=f-1;t.pqState===0?(t.num=new V(f,t.rng),t.num.testBit(c)||t.num.bitwiseTo(V.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(Sh(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(dh[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(V.ONE).gcd(t.e).compareTo(V.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(V.ONE),t.q1=t.q.subtract(V.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(V.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:U.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:U.rsa.setPublicKey(t.n,t.e)}}s=+new Date,o+=s-a,a=s}return t.keys!==null};U.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!N.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(Fo("generateKeyPair"))return _i.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,f,c){if(o)return n(o);n(null,{privateKey:U.privateKeyFromPem(c),publicKey:U.publicKeyFromPem(f)})});if(Mo("generateKey")&&Mo("exportKey"))return Pt.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Vo(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return Pt.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var f=U.privateKeyFromAsn1(x.fromDer(N.util.createBuffer(o)));n(null,{privateKey:f,publicKey:U.setRsaPublicKey(f.n,f.e)})}});if(Oo("generateKey")&&Oo("exportKey")){var i=Pt.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Vo(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var f=o.target.result,c=Pt.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var h=u.target.result,l=U.privateKeyFromAsn1(x.fromDer(N.util.createBuffer(h)));n(null,{privateKey:l,publicKey:U.setRsaPublicKey(l.n,l.e)})},c.onerror=function(u){n(u)}},i.onerror=function(o){n(o)};return}}else if(Fo("generateKeyPairSync")){var a=_i.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:U.privateKeyFromPem(a.privateKey),publicKey:U.publicKeyFromPem(a.publicKey)}}}var s=U.rsa.createKeyPairGenerationState(t,e,r);if(!n)return U.rsa.stepKeyPairGenerationState(s,0),s.keys;wh(s,r,n)};U.setRsaPublicKey=U.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,f,c){return zo(o,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,f){return N.pkcs1.encode_rsa_oaep(f,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return U.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(f,c){c=En(c,r,!0);var u=x.fromDer(c,{parseAllBytes:s._parseAllDigestBytes}),h={},l=[];if(!x.validate(u,mh,h,l)){var y=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw y.errors=l,y}var p=x.derToOid(h.algorithmIdentifier);if(!(p===N.oids.md2||p===N.oids.md5||p===N.oids.sha1||p===N.oids.sha224||p===N.oids.sha256||p===N.oids.sha384||p===N.oids.sha512||p===N.oids["sha512-224"]||p===N.oids["sha512-256"])){var y=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw y.oid=p,y}if((p===N.oids.md2||p===N.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===h.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(f,c){return c=En(c,r,!0),f===c}});var o=U.rsa.decrypt(i,r,!0,!1);return a.verify(n,o,r.n.bitLength())},r};U.setRsaPrivateKey=U.rsa.setPrivateKey=function(t,e,r,n,i,a,s,o){var f={n:t,e,d:r,p:n,q:i,dP:a,dQ:s,qInv:o};return f.decrypt=function(c,u,h){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var l=U.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:En};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(y,p){return N.pkcs1.decode_rsa_oaep(p,y,h)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(y){return y}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(l,f,!1)},f.sign=function(c,u){var h=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:bh},h=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},h=1);var l=u.encode(c,f.n.bitLength());return U.rsa.encrypt(l,f,h)},f};U.wrapRsaPrivateKey=function(t){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(0).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(U.oids.rsaEncryption).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")]),x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,x.toDer(t).getBytes())])};U.privateKeyFromAsn1=function(t){var e={},r=[];if(x.validate(t,yh,e,r)&&(t=x.fromDer(N.util.createBuffer(e.privateKey))),e={},r=[],!x.validate(t,gh,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,o,f,c,u,h;return i=N.util.createBuffer(e.privateKeyModulus).toHex(),a=N.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=N.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=N.util.createBuffer(e.privateKeyPrime1).toHex(),f=N.util.createBuffer(e.privateKeyPrime2).toHex(),c=N.util.createBuffer(e.privateKeyExponent1).toHex(),u=N.util.createBuffer(e.privateKeyExponent2).toHex(),h=N.util.createBuffer(e.privateKeyCoefficient).toHex(),U.setRsaPrivateKey(new V(i,16),new V(a,16),new V(s,16),new V(o,16),new V(f,16),new V(c,16),new V(u,16),new V(h,16))};U.privateKeyToAsn1=U.privateKeyToRSAPrivateKey=function(t){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(0).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.n)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.e)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.d)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.p)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.q)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.dP)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.dQ)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.qInv))])};U.publicKeyFromAsn1=function(t){var e={},r=[];if(x.validate(t,vh,e,r)){var n=x.derToOid(e.publicKeyOid);if(n!==U.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!x.validate(t,xh,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=N.util.createBuffer(e.publicKeyModulus).toHex(),s=N.util.createBuffer(e.publicKeyExponent).toHex();return U.setRsaPublicKey(new V(a,16),new V(s,16))};U.publicKeyToAsn1=U.publicKeyToSubjectPublicKeyInfo=function(t){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(U.oids.rsaEncryption).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")]),x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,[U.publicKeyToRSAPublicKey(t)])])};U.publicKeyToRSAPublicKey=function(t){return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.n)),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,ee(t.e))])};function zo(t,e,r){var n=N.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var f=0;f<s;++f)n.putByte(o)}else for(;s>0;){for(var c=0,u=N.random.getBytes(s),f=0;f<s;++f)o=u.charCodeAt(f),o===0?++c:n.putByte(o);s=c}return n.putByte(0),n.putBytes(t),n}function En(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),a=N.util.createBuffer(t),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(o===0){f=i-3-n;for(var c=0;c<f;++c)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(f=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++f}else if(o===2)for(f=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++f}var u=a.getByte();if(u!==0||f!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function wh(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){a(t.pBits,function(o,f){if(o)return r(o);if(t.p=f,t.q!==null)return s(o,t.q);a(t.qBits,s)})}function a(o,f){N.prime.generateProbablePrime(o,n,f)}function s(o,f){if(o)return r(o);if(t.q=f,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(V.ONE).gcd(t.e).compareTo(V.ONE)!==0){t.p=null,i();return}if(t.q.subtract(V.ONE).gcd(t.e).compareTo(V.ONE)!==0){t.q=null,a(t.qBits,s);return}if(t.p1=t.p.subtract(V.ONE),t.q1=t.q.subtract(V.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(V.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,s);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:U.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:U.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function ee(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=N.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function Sh(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function Fo(t){return N.util.isNodejs&&typeof _i[t]=="function"}function Mo(t){return typeof Pt.globalScope<"u"&&typeof Pt.globalScope.crypto=="object"&&typeof Pt.globalScope.crypto.subtle=="object"&&typeof Pt.globalScope.crypto.subtle[t]=="function"}function Oo(t){return typeof Pt.globalScope<"u"&&typeof Pt.globalScope.msCrypto=="object"&&typeof Pt.globalScope.msCrypto.subtle=="object"&&typeof Pt.globalScope.msCrypto.subtle[t]=="function"}function Vo(t){for(var e=N.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var Qo=M((my,$o)=>{var _=X();bi();Ar();js();_e();cn();io();oo();Cr();bo();Bn();lt();typeof Go>"u"&&(Go=_.jsbn.BigInteger);var Go,b=_.asn1,F=_.pki=_.pki||{};$o.exports=F.pbe=_.pbe=_.pbe||{};var De=F.oids,Eh={name:"EncryptedPrivateKeyInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Bh={name:"PBES2Algorithms",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Ah={name:"pkcs-12PbeParams",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"iterations"}]};F.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=_.random.getBytesSync(r.saltSize),i=r.count,a=b.integerToDer(i),s,o,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,h;switch(r.algorithm){case"aes128":s=16,c=16,u=De["aes128-CBC"],h=_.aes.createEncryptionCipher;break;case"aes192":s=24,c=16,u=De["aes192-CBC"],h=_.aes.createEncryptionCipher;break;case"aes256":s=32,c=16,u=De["aes256-CBC"],h=_.aes.createEncryptionCipher;break;case"des":s=8,c=8,u=De.desCBC,h=_.des.createEncryptionCipher;break;default:var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),p=Yo(y),d=_.pkcs5.pbkdf2(e,n,i,s,p),v=_.random.getBytesSync(c),m=h(d);m.start(v),m.update(b.toDer(t)),m.finish(),f=m.output.getBytes();var E=Ch(n,a,s,y);o=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(De.pkcs5PBES2).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(De.pkcs5PBKDF2).getBytes()),E]),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(u).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,v)])])])}else if(r.algorithm==="3des"){s=24;var A=new _.util.ByteBuffer(n),d=F.pbe.generatePkcs12Key(e,A,1,i,s),v=F.pbe.generatePkcs12Key(e,A,2,i,s),m=_.des.createEncryptionCipher(d);m.start(v),m.update(b.toDer(t)),m.finish(),f=m.output.getBytes(),o=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(De["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,n),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,a.getBytes())])])}else{var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var k=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[o,b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,f)]);return k};F.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!b.validate(t,Eh,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=b.derToOid(n.encryptionOid),o=F.pbe.getCipher(s,n.encryptionParams,e),f=_.util.createBuffer(n.encryptedData);return o.update(f),o.finish()&&(r=b.fromDer(o.output)),r};F.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:b.toDer(t).getBytes()};return _.pem.encode(r,{maxline:e})};F.encryptedPrivateKeyFromPem=function(t){var e=_.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return b.fromDer(e.body)};F.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=F.wrapRsaPrivateKey(F.privateKeyToAsn1(t));return n=F.encryptPrivateKeyInfo(n,e,r),F.encryptedPrivateKeyToPem(n)}var i,a,s,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=_.random.getBytesSync(16),o=_.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=_.random.getBytesSync(16),o=_.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=_.random.getBytesSync(16),o=_.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=_.random.getBytesSync(8),o=_.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=_.random.getBytesSync(8),o=_.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=_.pbe.opensslDeriveBytes(e,a.substr(0,8),s),u=o(c);u.start(a),u.update(b.toDer(F.privateKeyToAsn1(t))),u.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:_.util.bytesToHex(a).toUpperCase()},body:u.output.getBytes()};return _.pem.encode(h)};F.decryptRsaPrivateKey=function(t,e){var r=null,n=_.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=_.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=_.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=_.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=_.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=_.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(h){return _.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":a=8,s=function(h){return _.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":a=16,s=function(h){return _.rc2.createDecryptionCipher(h,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=_.util.hexToBytes(n.dekInfo.parameters),f=_.pbe.opensslDeriveBytes(e,o.substr(0,8),a),c=s(f);if(c.start(o),c.update(_.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=F.decryptPrivateKeyInfo(b.fromDer(r),e):r=b.fromDer(r),r!==null&&(r=F.privateKeyFromAsn1(r)),r};F.pbe.generatePkcs12Key=function(t,e,r,n,i,a){var s,o;if(typeof a>"u"||a===null){if(!("sha1"in _.md))throw new Error('"sha1" hash algorithm unavailable.');a=_.md.sha1.create()}var f=a.digestLength,c=a.blockLength,u=new _.util.ByteBuffer,h=new _.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)h.putInt16(t.charCodeAt(o));h.putInt16(0)}var l=h.length(),y=e.length(),p=new _.util.ByteBuffer;p.fillWithByte(r,c);var d=c*Math.ceil(y/c),v=new _.util.ByteBuffer;for(o=0;o<d;o++)v.putByte(e.at(o%y));var m=c*Math.ceil(l/c),E=new _.util.ByteBuffer;for(o=0;o<m;o++)E.putByte(h.at(o%l));var A=v;A.putBuffer(E);for(var k=Math.ceil(i/f),C=1;C<=k;C++){var T=new _.util.ByteBuffer;T.putBytes(p.bytes()),T.putBytes(A.bytes());for(var P=0;P<n;P++)a.start(),a.update(T.getBytes()),T=a.digest();var K=new _.util.ByteBuffer;for(o=0;o<c;o++)K.putByte(T.at(o%f));var ft=Math.ceil(y/c)+Math.ceil(l/c),Mt=new _.util.ByteBuffer;for(s=0;s<ft;s++){var Tt=new _.util.ByteBuffer(A.getBytes(c)),bt=511;for(o=K.length()-1;o>=0;o--)bt=bt>>8,bt+=K.at(o)+Tt.at(o),Tt.setAt(o,bt&255);Mt.putBuffer(Tt)}A=Mt,u.putBuffer(T)}return u.truncate(u.length()-i),u};F.pbe.getCipher=function(t,e,r){switch(t){case F.oids.pkcs5PBES2:return F.pbe.getCipherForPBES2(t,e,r);case F.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case F.oids["pbewithSHAAnd40BitRC2-CBC"]:return F.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};F.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!b.validate(e,Bh,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(t=b.derToOid(n.kdfOid),t!==F.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=b.derToOid(n.encOid),t!==F.oids["aes128-CBC"]&&t!==F.oids["aes192-CBC"]&&t!==F.oids["aes256-CBC"]&&t!==F.oids["des-EDE3-CBC"]&&t!==F.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,o=_.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var f,c;switch(F.oids[t]){case"aes128-CBC":f=16,c=_.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=_.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=_.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=_.des.createDecryptionCipher;break;case"desCBC":f=8,c=_.des.createDecryptionCipher;break}var u=Zo(n.prfOid),h=_.pkcs5.pbkdf2(r,s,o,f,u),l=n.encIv,y=c(h);return y.start(l),y};F.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!b.validate(e,Ah,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=_.util.createBuffer(n.salt),o=_.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var f,c,u;switch(t){case F.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=_.des.startDecrypting;break;case F.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=function(d,v){var m=_.rc2.createDecryptionCipher(d,40);return m.start(v,null),m};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var h=Zo(n.prfOid),l=F.pbe.generatePkcs12Key(r,s,1,o,f,h);h.start();var y=F.pbe.generatePkcs12Key(r,s,2,o,c,h);return u(l,y)};F.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in _.md))throw new Error('"md5" hash algorithm unavailable.');n=_.md.md5.create()}e===null&&(e="");for(var i=[Wo(n,t+e)],a=16,s=1;a<r;++s,a+=16)i.push(Wo(n,i[s-1]+t+e));return i.join("").substr(0,r)};function Wo(t,e){return t.start().update(e).digest().getBytes()}function Zo(t){var e;if(!t)e="hmacWithSHA1";else if(e=F.oids[b.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Yo(e)}function Yo(t){var e=_.md;switch(t){case"hmacWithSHA224":e=_.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Ch(t,e,r,n){var i=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,t),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,_.util.hexToBytes(r.toString(16))),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(F.oids[n]).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])),i}});var Ut=M((by,Jo)=>{"use strict";function Xo(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Th(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Xo(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),Xo(new i,r)}}Jo.exports=Th});var L0=M((p2,N0)=>{var tt=X();_e();lt();var Ur=N0.exports=tt.sha512=tt.sha512||{};tt.md.sha512=tt.md.algorithms.sha512=Ur;var k0=tt.sha384=tt.sha512.sha384=tt.sha512.sha384||{};k0.create=function(){return Ur.create("SHA-384")};tt.md.sha384=tt.md.algorithms.sha384=k0;tt.sha512.sha256=tt.sha512.sha256||{create:function(){return Ur.create("SHA-512/256")}};tt.md["sha512/256"]=tt.md.algorithms["sha512/256"]=tt.sha512.sha256;tt.sha512.sha224=tt.sha512.sha224||{create:function(){return Ur.create("SHA-512/224")}};tt.md["sha512/224"]=tt.md.algorithms["sha512/224"]=tt.sha512.sha224;Ur.create=function(t){if(D0||cp(),typeof t>"u"&&(t="SHA-512"),!(t in Le))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Le[t],r=null,n=tt.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var f=o.messageLengthSize/4,c=0;c<f;++c)o.fullMessageLength.push(0);n=tt.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return o},o.start(),o.update=function(f,c){c==="utf8"&&(f=tt.util.encodeUtf8(f));var u=f.length;o.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var h=o.fullMessageLength.length-1;h>=0;--h)o.fullMessageLength[h]+=u[1],u[1]=u[0]+(o.fullMessageLength[h]/4294967296>>>0),o.fullMessageLength[h]=o.fullMessageLength[h]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),R0(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var f=tt.util.createBuffer();f.putBytes(n.bytes());var c=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,u=c&o.blockLength-1;f.putBytes(ha.substr(0,o.blockLength-u));for(var h,l,y=o.fullMessageLength[0]*8,p=0;p<o.fullMessageLength.length-1;++p)h=o.fullMessageLength[p+1]*8,l=h/4294967296>>>0,y+=l,f.putInt32(y>>>0),y=h>>>0;f.putInt32(y);for(var d=new Array(r.length),p=0;p<r.length;++p)d[p]=r[p].slice(0);R0(d,i,f);var v=tt.util.createBuffer(),m;t==="SHA-512"?m=d.length:t==="SHA-384"?m=d.length-2:m=d.length-4;for(var p=0;p<m;++p)v.putInt32(d[p][0]),(p!==m-1||t!=="SHA-512/224")&&v.putInt32(d[p][1]);return v},o};var ha=null,D0=!1,la=null,Le=null;function cp(){ha=String.fromCharCode(128),ha+=tt.util.fillString(String.fromCharCode(0),128),la=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Le={},Le["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Le["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Le["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Le["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],D0=!0}function R0(t,e,r){for(var n,i,a,s,o,f,c,u,h,l,y,p,d,v,m,E,A,k,C,T,P,K,ft,Mt,Tt,bt,Me,jr,ht,Et,L,On,Vn,qn,zn,qa=r.length();qa>=128;){for(ht=0;ht<16;++ht)e[ht][0]=r.getInt32()>>>0,e[ht][1]=r.getInt32()>>>0;for(;ht<80;++ht)On=e[ht-2],Et=On[0],L=On[1],n=((Et>>>19|L<<13)^(L>>>29|Et<<3)^Et>>>6)>>>0,i=((Et<<13|L>>>19)^(L<<3|Et>>>29)^(Et<<26|L>>>6))>>>0,qn=e[ht-15],Et=qn[0],L=qn[1],a=((Et>>>1|L<<31)^(Et>>>8|L<<24)^Et>>>7)>>>0,s=((Et<<31|L>>>1)^(Et<<24|L>>>8)^(Et<<25|L>>>7))>>>0,Vn=e[ht-7],zn=e[ht-16],L=i+Vn[1]+s+zn[1],e[ht][0]=n+Vn[0]+a+zn[0]+(L/4294967296>>>0)>>>0,e[ht][1]=L>>>0;for(d=t[0][0],v=t[0][1],m=t[1][0],E=t[1][1],A=t[2][0],k=t[2][1],C=t[3][0],T=t[3][1],P=t[4][0],K=t[4][1],ft=t[5][0],Mt=t[5][1],Tt=t[6][0],bt=t[6][1],Me=t[7][0],jr=t[7][1],ht=0;ht<80;++ht)c=((P>>>14|K<<18)^(P>>>18|K<<14)^(K>>>9|P<<23))>>>0,u=((P<<18|K>>>14)^(P<<14|K>>>18)^(K<<23|P>>>9))>>>0,h=(Tt^P&(ft^Tt))>>>0,l=(bt^K&(Mt^bt))>>>0,o=((d>>>28|v<<4)^(v>>>2|d<<30)^(v>>>7|d<<25))>>>0,f=((d<<4|v>>>28)^(v<<30|d>>>2)^(v<<25|d>>>7))>>>0,y=(d&m|A&(d^m))>>>0,p=(v&E|k&(v^E))>>>0,L=jr+u+l+la[ht][1]+e[ht][1],n=Me+c+h+la[ht][0]+e[ht][0]+(L/4294967296>>>0)>>>0,i=L>>>0,L=f+p,a=o+y+(L/4294967296>>>0)>>>0,s=L>>>0,Me=Tt,jr=bt,Tt=ft,bt=Mt,ft=P,Mt=K,L=T+i,P=C+n+(L/4294967296>>>0)>>>0,K=L>>>0,C=A,T=k,A=m,k=E,m=d,E=v,L=i+s,d=n+a+(L/4294967296>>>0)>>>0,v=L>>>0;L=t[0][1]+v,t[0][0]=t[0][0]+d+(L/4294967296>>>0)>>>0,t[0][1]=L>>>0,L=t[1][1]+E,t[1][0]=t[1][0]+m+(L/4294967296>>>0)>>>0,t[1][1]=L>>>0,L=t[2][1]+k,t[2][0]=t[2][0]+A+(L/4294967296>>>0)>>>0,t[2][1]=L>>>0,L=t[3][1]+T,t[3][0]=t[3][0]+C+(L/4294967296>>>0)>>>0,t[3][1]=L>>>0,L=t[4][1]+K,t[4][0]=t[4][0]+P+(L/4294967296>>>0)>>>0,t[4][1]=L>>>0,L=t[5][1]+Mt,t[5][0]=t[5][0]+ft+(L/4294967296>>>0)>>>0,t[5][1]=L>>>0,L=t[6][1]+bt,t[6][0]=t[6][0]+Tt+(L/4294967296>>>0)>>>0,t[6][1]=L>>>0,L=t[7][1]+jr,t[7][0]=t[7][0]+Me+(L/4294967296>>>0)>>>0,t[7][1]=L>>>0,qa-=128}}});var vd={};vt(vd,{createEd25519PeerId:()=>ld,createFromJSON:()=>xd,createFromPrivKey:()=>Jr,createFromProtobuf:()=>gd,createFromPubKey:()=>Ff,createRSAPeerId:()=>dd,createSecp256k1PeerId:()=>pd,exportToProtobuf:()=>yd});var ri=Z(Yn(),1),Rs=Z(Ss(),1),ni=Z(ei(),1),ks=Z(_s(),1),Ds=Z(Ce(),1);function tc(){Ds.default._configure(),ri.default._configure(Rs.default),ni.default._configure(ks.default)}tc();var Ns=["uint64","int64","sint64","fixed64","sfixed64"];function ec(t){for(let e of Ns){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function ii(t){return ec(new ri.default(t))}function rc(t){for(let e of Ns){if(t[e]==null)continue;let r=t[e];t[e]=function(n){return r.call(this,n.toString())}}return t}function ai(){return rc(ni.default.create())}function Ve(t,e){let r=ii(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}function qe(t,e){let r=ai();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var ze;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(ze||(ze={}));function sn(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function si(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(a,s){let o=e(a);s.int32(o)},n=function(a){let s=a.int32();return e(s)};return sn("enum",ze.VARINT,r,n)}function He(t,e){return sn("message",ze.LENGTH_DELIMITED,t,e)}var rt;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(rt||(rt={}));var oi;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(oi||(oi={}));(function(t){t.codec=()=>si(oi)})(rt||(rt={}));var Yt;(function(t){let e;t.codec=()=>(e==null&&(e=He((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),rt.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},a=n==null?r.len:r.pos+n;for(;r.pos<a;){let s=r.uint32();switch(s>>>3){case 1:i.Type=rt.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>qe(r,t.codec()),t.decode=r=>Ve(r,t.codec())})(Yt||(Yt={}));var $t;(function(t){let e;t.codec=()=>(e==null&&(e=He((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),rt.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},a=n==null?r.len:r.pos+n;for(;r.pos<a;){let s=r.uint32();switch(s>>>3){case 1:i.Type=rt.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>qe(r,t.codec()),t.decode=r=>Ve(r,t.codec())})($t||($t={}));var eg=Z(Ar(),1),rg=Z(Qo(),1),od=Z(X(),1),kf=Z(Ut(),1);var Li={};vt(Li,{identity:()=>Nh});function Ih(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(r[s]!==255)throw new TypeError(a+" is ambiguous");r[s]=i}var o=t.length,f=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var d=0,v=0,m=0,E=p.length;m!==E&&p[m]===0;)m++,d++;for(var A=(E-m)*u+1>>>0,k=new Uint8Array(A);m!==E;){for(var C=p[m],T=0,P=A-1;(C!==0||T<v)&&P!==-1;P--,T++)C+=256*k[P]>>>0,k[P]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,m++}for(var K=A-v;K!==A&&k[K]===0;)K++;for(var ft=f.repeat(d);K<A;++K)ft+=t.charAt(k[K]);return ft}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var d=0;if(p[d]!==" "){for(var v=0,m=0;p[d]===f;)v++,d++;for(var E=(p.length-d)*c+1>>>0,A=new Uint8Array(E);p[d];){var k=r[p.charCodeAt(d)];if(k===255)return;for(var C=0,T=E-1;(k!==0||C<m)&&T!==-1;T--,C++)k+=o*A[T]>>>0,A[T]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");m=C,d++}if(p[d]!==" "){for(var P=E-m;P!==E&&A[P]===0;)P++;for(var K=new Uint8Array(v+(E-P)),ft=v;P!==E;)K[ft++]=A[P++];return K}}}function y(p){var d=l(p);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:l,decode:y}}var _h=Ih,Rh=_h,jo=Rh;var Sy=new Uint8Array(0);var t0=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},fe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var e0=t=>new TextEncoder().encode(t),r0=t=>new TextDecoder().decode(t);var Ri=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ki=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return i0(this,e)}},Di=class{constructor(e){this.decoders=e}or(e){return i0(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},i0=(t,e)=>new Di({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Ni=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Ri(e,r,n),this.decoder=new ki(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Qe=({name:t,prefix:e,encode:r,decode:n})=>new Ni(t,e,r,n),ve=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=jo(r,e);return Qe({prefix:t,name:e,encode:n,decode:a=>fe(i(a))})},kh=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let a=t.length;for(;t[a-1]==="=";)--a;let s=new Uint8Array(a*r/8|0),o=0,f=0,c=0;for(let u=0;u<a;++u){let h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|h,o+=r,o>=8&&(o-=8,s[c++]=255&f>>o)}if(o>=r||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return s},Dh=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,a="",s=0,o=0;for(let f=0;f<t.length;++f)for(o=o<<8|t[f],s+=8;s>r;)s-=r,a+=e[i&o>>s];if(s&&(a+=e[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},ct=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Qe({prefix:e,name:t,encode(i){return Dh(i,n,r)},decode(i){return kh(i,n,r,t)}});var Nh=Qe({prefix:"\0",name:"identity",encode:t=>r0(t),decode:t=>e0(t)});var Pi={};vt(Pi,{base2:()=>Lh});var Lh=ct({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ui={};vt(Ui,{base8:()=>Ph});var Ph=ct({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ki={};vt(Ki,{base10:()=>Uh});var Uh=ve({prefix:"9",name:"base10",alphabet:"0123456789"});var Fi={};vt(Fi,{base16:()=>Kh,base16upper:()=>Fh});var Kh=ct({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fh=ct({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Mi={};vt(Mi,{base32:()=>Xe,base32hex:()=>qh,base32hexpad:()=>Hh,base32hexpadupper:()=>Gh,base32hexupper:()=>zh,base32pad:()=>Oh,base32padupper:()=>Vh,base32upper:()=>Mh,base32z:()=>Wh});var Xe=ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Mh=ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Oh=ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Vh=ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),qh=ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zh=ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Hh=ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Gh=ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wh=ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Oi={};vt(Oi,{base36:()=>Zh,base36upper:()=>Yh});var Zh=ve({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Yh=ve({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Vi={};vt(Vi,{base58btc:()=>It,base58flickr:()=>$h});var It=ve({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$h=ve({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qi={};vt(qi,{base64:()=>Qh,base64pad:()=>Xh,base64url:()=>Jh,base64urlpad:()=>jh});var Qh=ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Xh=ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jh=ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jh=ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var zi={};vt(zi,{base256emoji:()=>il});var a0=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),tl=a0.reduce((t,e,r)=>(t[r]=e,t),[]),el=a0.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function rl(t){return t.reduce((e,r)=>(e+=tl[r],e),"")}function nl(t){let e=[];for(let r of t){let n=el[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var il=Qe({prefix:"\u{1F680}",name:"base256emoji",encode:rl,decode:nl});var Zi={};vt(Zi,{sha256:()=>kr,sha512:()=>El});var al=f0,s0=128,sl=127,ol=~sl,fl=Math.pow(2,31);function f0(t,e,r){e=e||[],r=r||0;for(var n=r;t>=fl;)e[r++]=t&255|s0,t/=128;for(;t&ol;)e[r++]=t&255|s0,t>>>=7;return e[r]=t|0,f0.bytes=r-n+1,e}var cl=Hi,ul=128,o0=127;function Hi(t,n){var r=0,n=n||0,i=0,a=n,s,o=t.length;do{if(a>=o)throw Hi.bytes=0,new RangeError("Could not decode varint");s=t[a++],r+=i<28?(s&o0)<<i:(s&o0)*Math.pow(2,i),i+=7}while(s>=ul);return Hi.bytes=a-n,r}var hl=Math.pow(2,7),ll=Math.pow(2,14),pl=Math.pow(2,21),dl=Math.pow(2,28),yl=Math.pow(2,35),gl=Math.pow(2,42),xl=Math.pow(2,49),vl=Math.pow(2,56),ml=Math.pow(2,63),bl=function(t){return t<hl?1:t<ll?2:t<pl?3:t<dl?4:t<yl?5:t<gl?6:t<xl?7:t<vl?8:t<ml?9:10},wl={encode:al,decode:cl,encodingLength:bl},Sl=wl,Ir=Sl;var _r=(t,e=0)=>[Ir.decode(t,e),Ir.decode.bytes],Je=(t,e,r=0)=>(Ir.encode(t,e,r),e),je=t=>Ir.encodingLength(t);var re=(t,e)=>{let r=e.byteLength,n=je(t),i=n+je(r),a=new Uint8Array(i+r);return Je(t,a,0),Je(r,a,n),a.set(e,i),new tr(t,r,e,a)},Rr=t=>{let e=fe(t),[r,n]=_r(e),[i,a]=_r(e.subarray(n)),s=e.subarray(n+a);if(s.byteLength!==i)throw new Error("Incorrect length");return new tr(r,i,s,e)},c0=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&t0(t.bytes,r.bytes)}},tr=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var Wi=({name:t,code:e,encode:r})=>new Gi(t,e,r),Gi=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?re(this.code,r):r.then(n=>re(this.code,n))}else throw Error("Unknown type, must be binary type")}};var h0=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),kr=Wi({name:"sha2-256",code:18,encode:h0("SHA-256")}),El=Wi({name:"sha2-512",code:19,encode:h0("SHA-512")});var Yi={};vt(Yi,{identity:()=>rr});var l0=0,Bl="identity",p0=fe,Al=t=>re(l0,p0(t)),rr={code:l0,name:Bl,encode:p0,digest:Al};var zy=new TextEncoder,Hy=new TextDecoder;var d0=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return _l(r,$i(t),e||It.encoder);default:return Rl(r,$i(t),e||Xe.encoder)}};var y0=new WeakMap,$i=t=>{let e=y0.get(t);if(e==null){let r=new Map;return y0.set(t,r),r}return e},st=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Dr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==kl)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return st.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=re(e,r);return st.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return st.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&c0(e.multihash,n.multihash)}toString(e){return d0(this,e)}toJSON(){return{"/":d0(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof st)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:a,bytes:s}=r;return new st(n,i,a,s||g0(n,i,a.bytes))}else if(r[Dl]===!0){let{version:n,multihash:i,code:a}=r,s=Rr(i);return st.create(n,a,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Dr)throw new Error(`Version 0 CID must use dag-pb (code: ${Dr}) block encoding`);return new st(e,r,n,n.bytes)}case 1:{let i=g0(e,r,n.bytes);return new st(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return st.create(0,Dr,e)}static createV1(e,r){return st.create(1,e,r)}static decode(e){let[r,n]=st.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=st.inspectBytes(e),n=r.size-r.multihashSize,i=fe(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let a=i.subarray(r.multihashSize-r.digestSize),s=new tr(r.multihashCode,r.digestSize,a,i);return[r.version===0?st.createV0(s):st.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,l]=_r(e.subarray(r));return r+=l,h},i=n(),a=Dr;if(i===18?(i=0,r=0):a=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,o=n(),f=n(),c=r+f,u=c-s;return{version:i,codec:a,multihashCode:o,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[n,i]=Il(e,r),a=st.decode(i);return $i(a).set(n,e),a}},Il=(t,e)=>{switch(t[0]){case"Q":{let r=e||It;return[It.prefix,r.decode(`${It.prefix}${t}`)]}case It.prefix:{let r=e||It;return[It.prefix,r.decode(t)]}case Xe.prefix:{let r=e||Xe;return[Xe.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},_l=(t,e,r)=>{let{prefix:n}=r;if(n!==It.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let a=r.encode(t).slice(1);return e.set(n,a),a}else return i},Rl=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let a=r.encode(t);return e.set(n,a),a}else return i},Dr=112,kl=18,g0=(t,e,r)=>{let n=je(t),i=n+je(e),a=new Uint8Array(i+r.byteLength);return Je(t,a,0),Je(e,a,n),a.set(r,i),a},Dl=Symbol.for("@ipld/js-cid/CID");var nr={...Li,...Pi,...Ui,...Ki,...Fi,...Mi,...Oi,...Vi,...qi,...zi},t1={...Zi,...Yi};function ir(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Cn(t=0){return globalThis.Buffer?.allocUnsafe!=null?ir(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function v0(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var x0=v0("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Qi=v0("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Cn(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Nl={utf8:x0,"utf-8":x0,hex:nr.base16,latin1:Qi,ascii:Qi,binary:Qi,...nr},Tn=Nl;function mt(t,e="utf8"){let r=Tn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ir(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Pl=Z(Ut(),1);function Ne(t,e){e==null&&(e=t.reduce((i,a)=>i+a.length,0));let r=Cn(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return ir(r)}var At={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var Ul=Z(Ut(),1);var A1=Z(lt(),1),C1=Z(wn(),1),m0=Z(X(),1);function _t(t,e="utf8"){let r=Tn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Ht(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Ne([new Uint8Array(e-r.length),r])}return _t(r,"base64url")}function Rt(t){let e=b0(t);return new m0.default.jsbn.BigInteger(_t(e,"base16"),16)}function b0(t,e){let r=mt(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=Ne([new Uint8Array(e-r.length),r])}return r}function kt(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Kl={"P-256":256,"P-384":384,"P-521":521},Fl=Object.keys(Kl),K1=Fl.join(" / ");function Ml(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(r[s]!==255)throw new TypeError(a+" is ambiguous");r[s]=i}var o=t.length,f=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var d=0,v=0,m=0,E=p.length;m!==E&&p[m]===0;)m++,d++;for(var A=(E-m)*u+1>>>0,k=new Uint8Array(A);m!==E;){for(var C=p[m],T=0,P=A-1;(C!==0||T<v)&&P!==-1;P--,T++)C+=256*k[P]>>>0,k[P]=C%o>>>0,C=C/o>>>0;if(C!==0)throw new Error("Non-zero carry");v=T,m++}for(var K=A-v;K!==A&&k[K]===0;)K++;for(var ft=f.repeat(d);K<A;++K)ft+=t.charAt(k[K]);return ft}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var d=0;if(p[d]!==" "){for(var v=0,m=0;p[d]===f;)v++,d++;for(var E=(p.length-d)*c+1>>>0,A=new Uint8Array(E);p[d];){var k=r[p.charCodeAt(d)];if(k===255)return;for(var C=0,T=E-1;(k!==0||C<m)&&T!==-1;T--,C++)k+=o*A[T]>>>0,A[T]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");m=C,d++}if(p[d]!==" "){for(var P=E-m;P!==E&&A[P]===0;)P++;for(var K=new Uint8Array(v+(E-P)),ft=v;P!==E;)K[ft++]=A[P++];return K}}}function y(p){var d=l(p);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:l,decode:y}}var Ol=Ml,Vl=Ol,w0=Vl;var z1=new Uint8Array(0);var Nr=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Xi=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ji=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return S0(this,e)}},ji=class{constructor(e){this.decoders=e}or(e){return S0(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},S0=(t,e)=>new ji({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),ta=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Xi(e,r,n),this.decoder=new Ji(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},E0=({name:t,prefix:e,encode:r,decode:n})=>new ta(t,e,r,n),ea=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=w0(r,e);return E0({prefix:t,name:e,encode:n,decode:a=>Nr(i(a))})},ql=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let a=t.length;for(;t[a-1]==="=";)--a;let s=new Uint8Array(a*r/8|0),o=0,f=0,c=0;for(let u=0;u<a;++u){let h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|h,o+=r,o>=8&&(o-=8,s[c++]=255&f>>o)}if(o>=r||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return s},zl=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,a="",s=0,o=0;for(let f=0;f<t.length;++f)for(o=o<<8|t[f],s+=8;s>r;)s-=r,a+=e[i&o>>s];if(s&&(a+=e[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},Lr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>E0({prefix:e,name:t,encode(i){return zl(i,n,r)},decode(i){return ql(i,n,r,t)}});var ra=Lr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$1=Lr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Q1=Lr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),X1=Lr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function na(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",a=t?.saltLength??16,s=t?.iterations??32767,o=At.get();r*=8;async function f(h,l){let y=o.getRandomValues(new Uint8Array(a)),p=o.getRandomValues(new Uint8Array(n)),d={name:e,iv:p};typeof l=="string"&&(l=mt(l));let v={name:"PBKDF2",salt:y,iterations:s,hash:{name:i}},m=await o.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),E=await o.subtle.deriveKey(v,m,{name:e,length:r},!0,["encrypt"]),A=await o.subtle.encrypt(d,E,h);return Ne([y,d.iv,new Uint8Array(A)])}async function c(h,l){let y=h.subarray(0,a),p=h.subarray(a,a+n),d=h.subarray(a+n),v={name:e,iv:p};typeof l=="string"&&(l=mt(l));let m={name:"PBKDF2",salt:y,iterations:s,hash:{name:i}},E=await o.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),A=await o.subtle.deriveKey(m,E,{name:e,length:r},!0,["decrypt"]),k=await o.subtle.decrypt(v,A,d);return new Uint8Array(k)}return{encrypt:f,decrypt:c}}var Sa={};vt(Sa,{RsaPrivateKey:()=>lr,RsaPublicKey:()=>qr,fromJwk:()=>Np,generateKeyPair:()=>Lp,unmarshalRsaPrivateKey:()=>kp,unmarshalRsaPublicKey:()=>Dp});var Hl=T0,A0=128,Gl=127,Wl=~Gl,Zl=Math.pow(2,31);function T0(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Zl;)e[r++]=t&255|A0,t/=128;for(;t&Wl;)e[r++]=t&255|A0,t>>>=7;return e[r]=t|0,T0.bytes=r-n+1,e}var Yl=ia,$l=128,C0=127;function ia(t,n){var r=0,n=n||0,i=0,a=n,s,o=t.length;do{if(a>=o)throw ia.bytes=0,new RangeError("Could not decode varint");s=t[a++],r+=i<28?(s&C0)<<i:(s&C0)*Math.pow(2,i),i+=7}while(s>=$l);return ia.bytes=a-n,r}var Ql=Math.pow(2,7),Xl=Math.pow(2,14),Jl=Math.pow(2,21),jl=Math.pow(2,28),tp=Math.pow(2,35),ep=Math.pow(2,42),rp=Math.pow(2,49),np=Math.pow(2,56),ip=Math.pow(2,63),ap=function(t){return t<Ql?1:t<Xl?2:t<Jl?3:t<jl?4:t<tp?5:t<ep?6:t<rp?7:t<np?8:t<ip?9:10},sp={encode:Hl,decode:Yl,encodingLength:ap},op=sp,aa=op;var sa=(t,e,r=0)=>(aa.encode(t,e,r),e),oa=t=>aa.encodingLength(t);var Pr=(t,e)=>{let r=e.byteLength,n=oa(t),i=n+oa(r),a=new Uint8Array(i+r);return sa(t,a,0),sa(r,a,n),a.set(e,i),new fa(t,r,e,a)};var fa=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var ua=({name:t,code:e,encode:r})=>new ca(t,e,r),ca=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Pr(this.code,r):r.then(n=>Pr(this.code,n))}else throw Error("Unknown type, must be binary type")}};var _0=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Kt=ua({name:"sha2-256",code:18,encode:_0("SHA-256")}),h2=ua({name:"sha2-512",code:19,encode:_0("SHA-512")});var wa=Z(Ut(),1);var L2=Z(L0(),1),Vr=Z(X(),1);var up=Z(Ze(),1);var q=BigInt(0),et=BigInt(1),me=BigInt(2),Fr=BigInt(3),hp=BigInt(8),it=Object.freeze({a:q,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:et,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function P0(t){let{a:e,b:r}=it,n=R(t*t),i=R(n*t);return R(i+e*t+r)}var In=it.a===q,Rn=class extends Error{constructor(e){super(e)}},Y=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Q))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Y(e.x,e.y,et)}static toAffineBatch(e){let r=gp(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return Y.toAffineBatch(e).map(Y.fromAffine)}equals(e){if(!(e instanceof Y))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=e,f=R(i*i),c=R(o*o),u=R(r*c),h=R(a*f),l=R(R(n*o)*c),y=R(R(s*i)*f);return u===h&&l===y}negate(){return new Y(this.x,R(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=R(e*e),a=R(r*r),s=R(a*a),o=e+a,f=R(me*(R(o*o)-i-s)),c=R(Fr*i),u=R(c*c),h=R(u-me*f),l=R(c*(f-h)-hp*s),y=R(me*r*n);return new Y(h,l,y)}add(e){if(!(e instanceof Y))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=e;if(a===q||s===q)return this;if(r===q||n===q)return e;let f=R(i*i),c=R(o*o),u=R(r*c),h=R(a*f),l=R(R(n*o)*c),y=R(R(s*i)*f),p=R(h-u),d=R(y-l);if(p===q)return d===q?this.double():Y.ZERO;let v=R(p*p),m=R(p*v),E=R(u*v),A=R(d*d-m-me*E),k=R(d*(E-A)-l*m),C=R(i*o*p);return new Y(A,k,C)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=Y.ZERO;if(typeof e=="bigint"&&e===q)return r;let n=F0(e);if(n===et)return this;if(!In){let h=r,l=this;for(;n>q;)n&et&&(h=h.add(l)),l=l.double(),n>>=et;return h}let{k1neg:i,k1:a,k2neg:s,k2:o}=O0(n),f=r,c=r,u=this;for(;a>q||o>q;)a&et&&(f=f.add(u)),o&et&&(c=c.add(u)),u=u.double(),a>>=et,o>>=et;return i&&(f=f.negate()),s&&(c=c.negate()),c=new Y(R(c.x*it.beta),c.y,c.z),f.add(c)}precomputeWindow(e){let r=In?128/e+1:256/e+1,n=[],i=this,a=i;for(let s=0;s<r;s++){a=i,n.push(a);for(let o=1;o<2**(e-1);o++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(e,r){!r&&this.equals(Y.BASE)&&(r=Q.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&da.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=Y.normalizeZ(i),da.set(r,i)));let a=Y.ZERO,s=Y.ZERO,o=1+(In?128/n:256/n),f=2**(n-1),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<o;l++){let y=l*f,p=Number(e&c);if(e>>=h,p>f&&(p-=u,e+=et),p===0){let d=i[y];l%2&&(d=d.negate()),s=s.add(d)}else{let d=i[y+Math.abs(p)-1];p<0&&(d=d.negate()),a=a.add(d)}}return{p:a,f:s}}multiply(e,r){let n=F0(e),i,a;if(In){let{k1neg:s,k1:o,k2neg:f,k2:c}=O0(n),{p:u,f:h}=this.wNAF(o,r),{p:l,f:y}=this.wNAF(c,r);s&&(u=u.negate()),f&&(l=l.negate()),l=new Y(R(l.x*it.beta),l.y,l.z),i=u.add(l),a=h.add(y)}else{let{p:s,f:o}=this.wNAF(n,r);i=s,a=o}return Y.normalizeZ([i,a])[0]}toAffine(e=ur(this.z)){let{x:r,y:n,z:i}=this,a=e,s=R(a*a),o=R(s*a),f=R(r*s),c=R(n*o);if(R(i*a)!==et)throw new Error("invZ was invalid");return new Q(f,c)}};Y.BASE=new Y(it.Gx,it.Gy,et);Y.ZERO=new Y(q,et,q);var da=new WeakMap,Q=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,da.delete(this)}hasEvenY(){return this.y%me===q}static fromCompressedHex(e){let r=e.length===32,n=ce(r?e:e.subarray(1));if(!pa(n))throw new Error("Point is not on curve");let i=P0(n),a=yp(i),s=(a&et)===et;r?s&&(a=R(-a)):(e[0]&1)===1!==s&&(a=R(-a));let o=new Q(n,a);return o.assertValidity(),o}static fromUncompressedHex(e){let r=ce(e.subarray(1,33)),n=ce(e.subarray(33,65)),i=new Q(r,n);return i.assertValidity(),i}static fromHex(e){let r=cr(e),n=r.length,i=r[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(r);if(n===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Q.BASE.multiply(Dn(e))}static fromSignature(e,r,n){e=cr(e);let i=V0(e),{r:a,s}=q0(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let o=n&1?"03":"02",f=Q.fromHex(o+sr(a)),{n:c}=it,u=ur(a,c),h=R(-i*u,c),l=R(s*u,c),y=Q.BASE.multiplyAndAddUnsafe(f,h,l);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(e=!1){return Pe(this.toHex(e))}toHex(e=!1){let r=sr(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${sr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!pa(r)||!pa(n))throw new Error(e);let i=R(n*n),a=P0(r);if(R(i-a)!==q)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Q(this.x,R(-this.y))}double(){return Y.fromAffine(this).double().toAffine()}add(e){return Y.fromAffine(this).add(Y.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Y.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Y.fromAffine(this),a=r===q||r===et||this!==Q.BASE?i.multiplyUnsafe(r):i.multiply(r),s=Y.fromAffine(e).multiplyUnsafe(n),o=a.add(s);return o.equals(Y.ZERO)?void 0:o.toAffine()}};Q.BASE=new Q(it.Gx,it.Gy);Q.ZERO=new Q(q,q);function U0(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function K0(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${fr(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ce(r),left:t.subarray(e+2)}}function lp(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${fr(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=K0(t.subarray(2)),{data:n,left:i}=K0(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${fr(i)}`);return{r:e,s:n}}var ne=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?fr(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new ne(kn(i.slice(0,64)),kn(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=lp(r?e:Pe(e));return new ne(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Or(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Or(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=it.n>>et;return this.s>e}normalizeS(){return this.hasHighS()?new ne(this.r,it.n-this.s):this}toDERRawBytes(e=!1){return Pe(this.toDERHex(e))}toDERHex(e=!1){let r=U0(Kr(this.s));if(e)return r;let n=U0(Kr(this.r)),i=Kr(n.length/2),a=Kr(r.length/2);return`30${Kr(n.length/2+r.length/2+4)}02${i}${n}02${a}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Pe(this.toCompactHex())}toCompactHex(){return sr(this.r)+sr(this.s)}};function ar(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}var pp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fr(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=pp[t[r]];return e}var dp=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function sr(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(q<=t&&t<dp))throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function ya(t){let e=Pe(sr(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Kr(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function kn(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Pe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}function ce(t){return kn(fr(t))}function cr(t){return t instanceof Uint8Array?Uint8Array.from(t):Pe(t)}function F0(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Or(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function R(t,e=it.P){let r=t%e;return r>=q?r:e+r}function Ft(t,e){let{P:r}=it,n=t;for(;e-- >q;)n*=n,n%=r;return n}function yp(t){let{P:e}=it,r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),f=t*t*t%e,c=f*f*t%e,u=Ft(c,Fr)*c%e,h=Ft(u,Fr)*c%e,l=Ft(h,me)*f%e,y=Ft(l,n)*l%e,p=Ft(y,i)*y%e,d=Ft(p,s)*p%e,v=Ft(d,o)*d%e,m=Ft(v,s)*p%e,E=Ft(m,Fr)*c%e,A=Ft(E,a)*y%e,k=Ft(A,r)*f%e;return Ft(k,me)}function ur(t,e=it.P){if(t===q||e<=q)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=R(t,e),n=e,i=q,a=et,s=et,o=q;for(;r!==q;){let c=n/r,u=n%r,h=i-s*c,l=a-o*c;n=r,r=u,i=s,a=o,s=h,o=l}if(n!==et)throw new Error("invert: does not exist");return R(i,e)}function gp(t,e=it.P){let r=new Array(t.length),n=t.reduce((a,s,o)=>s===q?a:(r[o]=a,R(a*s,e)),et),i=ur(n,e);return t.reduceRight((a,s,o)=>s===q?a:(r[o]=R(a*r[o],e),R(a*s,e)),i),r}var M0=(t,e)=>(t+e/me)/e,xp={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-et*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function O0(t){let{n:e}=it,{a1:r,b1:n,a2:i,b2:a,POW_2_128:s}=xp,o=M0(a*t,e),f=M0(-n*t,e),c=R(t-o*r-f*i,e),u=R(-o*n-f*a,e),h=c>s,l=u>s;if(h&&(c=e-c),l&&(u=e-u),c>s||u>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:l,k2:u}}function V0(t){let{n:e}=it,n=t.length*8-256,i=ce(t);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var or,Mr,ga=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return Gt.hmacSha256(this.k,...e)}hmacSync(...e){return Mr(this.k,...e)}checkSync(){if(typeof Mr!="function")throw new Rn("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}};function Or(t){return q<t&&t<it.n}function pa(t){return q<t&&t<it.P}function vp(t,e,r){let n=ce(t);if(!Or(n))return;let{n:i}=it,a=Q.BASE.multiply(n),s=R(a.x,i);if(s===q)return;let o=R(ur(n,i)*R(e+r*s,i),i);if(o===q)return;let f=new ne(s,o),c=(a.x===f.r?0:2)|Number(a.y&et);return{sig:f,recovery:c}}function Dn(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=kn(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=ce(t)}else throw new TypeError("Expected valid private key");if(!Or(e))throw new Error("Expected private key: 0 < key < n");return e}function mp(t){return t instanceof Q?(t.assertValidity(),t):Q.fromHex(t)}function q0(t){if(t instanceof ne)return t.assertValidity(),t;try{return ne.fromDER(t)}catch{return ne.fromCompact(t)}}function xa(t,e=!1){return Q.fromPrivateKey(t).toRawBytes(e)}function z0(t){let e=t.length>32?t.slice(0,32):t;return ce(e)}function bp(t){let e=z0(t),r=R(e,it.n);return H0(r<q?e:r)}function H0(t){return ya(t)}function wp(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=cr(t),i=Dn(e),a=[H0(i),bp(n)];if(r!=null){r===!0&&(r=Gt.randomBytes(32));let f=cr(r);if(f.length!==32)throw new Error("sign: Expected 32 bytes of extra data");a.push(f)}let s=ar(...a),o=z0(n);return{seed:s,m:o,d:i}}function Sp(t,e){let{sig:r,recovery:n}=t,{canonical:i,der:a,recovered:s}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let o=a?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,n]:o}async function G0(t,e,r={}){let{seed:n,m:i,d:a}=wp(t,e,r.extraEntropy),s,o=new ga;for(await o.reseed(n);!(s=vp(await o.generate(),i,a));)await o.reseed();return Sp(s,r)}var Ep={strict:!0};function W0(t,e,r,n=Ep){let i;try{i=q0(t),e=cr(e)}catch{return!1}let{r:a,s}=i;if(n.strict&&i.hasHighS())return!1;let o=V0(e),f;try{f=mp(r)}catch{return!1}let{n:c}=it,u=ur(s,c),h=R(o*u,c),l=R(a*u,c),y=Q.BASE.multiplyAndAddUnsafe(f,h,l);return y?R(y.x,c)===a:!1}Q.BASE._setWindowSize(8);var Dt={node:up,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var _n={},Gt={bytesToHex:fr,hexToBytes:Pe,concatBytes:ar,mod:R,invert:ur,isValidPrivateKey(t){try{return Dn(t),!0}catch{return!1}},_bigintTo32Bytes:ya,_normalizePrivateKey:Dn,hashToPrivateKey:t=>{if(t=cr(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=R(ce(t),it.n-et)+et;return ya(e)},randomBytes:(t=32)=>{if(Dt.web)return Dt.web.getRandomValues(new Uint8Array(t));if(Dt.node){let{randomBytes:e}=Dt.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Gt.hashToPrivateKey(Gt.randomBytes(40)),sha256:async(...t)=>{if(Dt.web){let e=await Dt.web.subtle.digest("SHA-256",ar(...t));return new Uint8Array(e)}else if(Dt.node){let{createHash:e}=Dt.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Dt.web){let r=await Dt.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=ar(...e),i=await Dt.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Dt.node){let{createHmac:r}=Dt.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=_n[t];if(r===void 0){let n=await Gt.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=ar(n,n),_n[t]=r}return Gt.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof or!="function")throw new Rn("sha256Sync is undefined, you need to set it");let r=_n[t];if(r===void 0){let n=or(Uint8Array.from(t,i=>i.charCodeAt(0)));r=ar(n,n),_n[t]=r}return or(r,...e)},precompute(t=8,e=Q.BASE){let r=e===Q.BASE?e:new Q(e.x,e.y);return r._setWindowSize(t),r.multiply(Fr),r}};Object.defineProperties(Gt,{sha256Sync:{configurable:!1,get(){return or},set(t){or||(or=t)}},hmacSha256Sync:{configurable:!1,get(){return Mr},set(t){Mr||(Mr=t)}}});var Z0=Z(Ut(),1);function Nn(t){if(isNaN(t)||t<=0)throw(0,Z0.default)(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return Gt.randomBytes(t)}var Ue={};vt(Ue,{jwkToPkcs1:()=>Cp,jwkToPkix:()=>Ip,pkcs1ToJwk:()=>Ap,pkixToJwk:()=>Tp});var g2=Z(Ar(),1),x2=Z(Bn(),1),ue=Z(X(),1);var va=Z(Ut(),1);function Ap(t){let e=ue.default.asn1.fromDer(_t(t,"ascii")),r=ue.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Ht(r.n),e:Ht(r.e),d:Ht(r.d),p:Ht(r.p),q:Ht(r.q),dp:Ht(r.dP),dq:Ht(r.dQ),qi:Ht(r.qInv),alg:"RS256"}}function Cp(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw(0,va.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=ue.default.pki.privateKeyToAsn1({n:Rt(t.n),e:Rt(t.e),d:Rt(t.d),p:Rt(t.p),q:Rt(t.q),dP:Rt(t.dp),dQ:Rt(t.dq),qInv:Rt(t.qi)});return mt(ue.default.asn1.toDer(e).getBytes(),"ascii")}function Tp(t){let e=ue.default.asn1.fromDer(_t(t,"ascii")),r=ue.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Ht(r.n),e:Ht(r.e)}}function Ip(t){if(t.n==null||t.e==null)throw(0,va.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=ue.default.pki.publicKeyToAsn1({n:Rt(t.n),e:Rt(t.e)});return mt(ue.default.asn1.toDer(e).getBytes(),"ascii")}var w2=Z(Bn(),1),ma=Z(X(),1);function Y0(t,e){return e.map(r=>Rt(t[r]))}function $0(t){return ma.default.pki.setRsaPrivateKey(...Y0(t,["n","e","d","p","q","dp","dq","qi"]))}function Q0(t){return ma.default.pki.setRsaPublicKey(...Y0(t,["n","e"]))}var X0=Z(Ut(),1);async function J0(t){let e=await At.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await ef(e);return{privateKey:r[0],publicKey:r[1]}}async function ba(t){let r=[await At.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await _p(t)],n=await ef({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function j0(t,e){let r=await At.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await At.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,0,n.byteLength)}async function tf(t,e,r){let n=await At.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return await At.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)}async function ef(t){if(t.privateKey==null||t.publicKey==null)throw(0,X0.default)(new Error("Private and public key are required"),"ERR_INVALID_PARAMETERS");return await Promise.all([At.get().subtle.exportKey("jwk",t.privateKey),At.get().subtle.exportKey("jwk",t.publicKey)])}async function _p(t){return await At.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function rf(t,e,r,n){let i=e?Q0(t):$0(t),a=_t(Uint8Array.from(r),"ascii"),s=n(a,i);return mt(s,"ascii")}function nf(t,e){return rf(t,!0,e,(r,n)=>n.encrypt(r))}function af(t,e){return rf(t,!1,e,(r,n)=>n.decrypt(r))}async function hr(t,e){let n=await na().encrypt(t,e);return ra.encode(n)}var qr=class{constructor(e){this._key=e}async verify(e,r){return await tf(this._key,r,e)}marshal(){return Ue.jwkToPkix(this._key)}get bytes(){return Yt.encode({Type:rt.RSA,Data:this.marshal()}).subarray()}encrypt(e){return nf(this._key,e)}equals(e){return kt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Kt.digest(this.bytes);return e}},lr=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Nn(16)}async sign(e){return await j0(this._key,e)}get public(){if(this._publicKey==null)throw(0,wa.default)(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new qr(this._publicKey)}decrypt(e){return af(this._key,e)}marshal(){return Ue.jwkToPkcs1(this._key)}get bytes(){return $t.encode({Type:rt.RSA,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Kt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return _t(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Vr.default.util.ByteBuffer(this.marshal()),i=Vr.default.asn1.fromDer(n),a=Vr.default.pki.privateKeyFromAsn1(i),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Vr.default.pki.encryptRsaPrivateKey(a,e,s)}else{if(r==="libp2p-key")return await hr(this.bytes,e);throw(0,wa.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function kp(t){let e=Ue.pkcs1ToJwk(t),r=await ba(e);return new lr(r.privateKey,r.publicKey)}function Dp(t){let e=Ue.pkixToJwk(t);return new qr(e)}async function Np(t){let e=await ba(t);return new lr(e.privateKey,e.publicKey)}async function Lp(t){let e=await J0(t);return new lr(e.privateKey,e.publicKey)}var Da={};vt(Da,{Ed25519PrivateKey:()=>Fe,Ed25519PublicKey:()=>Zr,generateKeyPair:()=>rd,generateKeyPairFromSeed:()=>Ef,unmarshalEd25519PrivateKey:()=>td,unmarshalEd25519PublicKey:()=>ed});var ka=Z(Ut(),1);var sf=ea({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),K2=ea({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var of=0,Pp="identity",ff=Nr,Up=t=>Pr(of,ff(t)),cf={code:of,name:Pp,encode:ff,digest:Up};var Kp=Z(Ze(),1);var xt=BigInt(0),H=BigInt(1),pr=BigInt(2),uf=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),at=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:uf,n:uf,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var df=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),zr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),V2=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Fp=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Mp=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Op=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Vp=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),z=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof ot))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(ot.ZERO)?z.ZERO:new z(e.x,e.y,H,S(e.x*e.y))}static toAffineBatch(e){let r=Hp(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){hf(e);let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=e,f=S(r*o),c=S(a*i),u=S(n*o),h=S(s*i);return f===c&&u===h}negate(){return new z(S(-this.x),this.y,this.z,S(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=at,a=S(e*e),s=S(r*r),o=S(pr*S(n*n)),f=S(i*a),c=e+r,u=S(S(c*c)-a-s),h=f+s,l=h-o,y=f-s,p=S(u*l),d=S(h*y),v=S(u*y),m=S(l*h);return new z(p,d,m,v)}add(e){hf(e);let{x:r,y:n,z:i,t:a}=this,{x:s,y:o,z:f,t:c}=e,u=S((n-r)*(o+s)),h=S((n+r)*(o-s)),l=S(h-u);if(l===xt)return this.double();let y=S(i*pr*c),p=S(a*pr*f),d=p+y,v=h+u,m=p-y,E=S(d*l),A=S(v*m),k=S(d*m),C=S(l*v);return new z(E,A,C,k)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,a=i;for(let s=0;s<r;s++){a=i,n.push(a);for(let o=1;o<2**(e-1);o++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(e,r){!r&&this.equals(z.BASE)&&(r=ot.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Ta.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=z.normalizeZ(i),Ta.set(r,i)));let a=z.ZERO,s=z.ZERO,o=1+256/n,f=2**(n-1),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<o;l++){let y=l*f,p=Number(e&c);if(e>>=h,p>f&&(p-=u,e+=H),p===0){let d=i[y];l%2&&(d=d.negate()),s=s.add(d)}else{let d=i[y+Math.abs(p)-1];p<0&&(d=d.negate()),a=a.add(d)}}return z.normalizeZ([a,s])[0]}multiply(e,r){return this.wNAF(Pn(e,at.l),r)}multiplyUnsafe(e){let r=Pn(e,at.l,!1),n=z.BASE,i=z.ZERO;if(r===xt)return i;if(this.equals(i)||r===H)return this;if(this.equals(n))return this.wNAF(r);let a=i,s=this;for(;r>xt;)r&H&&(a=a.add(s)),s=s.double(),r>>=H;return a}isSmallOrder(){return this.multiplyUnsafe(at.h).equals(z.ZERO)}isTorsionFree(){return this.multiplyUnsafe(at.l).equals(z.ZERO)}toAffine(e=Un(this.z)){let{x:r,y:n,z:i}=this,a=S(r*e),s=S(n*e);if(S(i*e)!==H)throw new Error("invZ was invalid");return new ot(a,s)}fromRistrettoBytes(){Ba()}toRistrettoBytes(){Ba()}fromRistrettoHash(){Ba()}};z.BASE=new z(at.Gx,at.Gy,H,S(at.Gx*at.Gy));z.ZERO=new z(xt,H,H,xt);function hf(t){if(!(t instanceof z))throw new TypeError("ExtendedPoint expected")}function Ea(t){if(!(t instanceof Ct))throw new TypeError("RistrettoPoint expected")}function Ba(){throw new Error("Legacy method: switch to RistrettoPoint")}var Ct=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=at,n=S(zr*e*e),i=S((n+H)*Op),a=BigInt(-1),s=S((a-r*n)*S(n+r)),{isValid:o,value:f}=_a(i,s),c=S(f*e);we(c)||(c=S(-c)),o||(f=c),o||(a=n);let u=S(a*(n-H)*Vp-s),h=f*f,l=S((f+f)*s),y=S(u*Fp),p=S(H-h),d=S(H+h);return new z(S(l*d),S(p*y),S(y*d),S(l*p))}static hashToCurve(e){e=Se(e,64);let r=Aa(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Aa(e.slice(32,64)),a=this.calcElligatorRistrettoMap(i);return new Ct(n.add(a))}static fromHex(e){e=Se(e,32);let{a:r,d:n}=at,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=Aa(e);if(!Wp(Hr(a),e)||we(a))throw new Error(i);let s=S(a*a),o=S(H+r*s),f=S(H-r*s),c=S(o*o),u=S(f*f),h=S(r*n*c-u),{isValid:l,value:y}=pf(S(h*u)),p=S(y*f),d=S(y*p*h),v=S((a+a)*p);we(v)&&(v=S(-v));let m=S(o*d),E=S(v*m);if(!l||we(E)||m===xt)throw new Error(i);return new Ct(new z(v,m,H,E))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,a=S(S(n+r)*S(n-r)),s=S(e*r),o=S(s*s),{value:f}=pf(S(a*o)),c=S(f*a),u=S(f*s),h=S(c*u*i),l;if(we(i*h)){let p=S(r*zr),d=S(e*zr);e=p,r=d,l=S(c*Mp)}else l=u;we(e*h)&&(r=S(-r));let y=S((n-r)*l);return we(y)&&(y=S(-y)),Hr(y)}toHex(){return Gr(this.toRawBytes())}toString(){return this.toHex()}equals(e){Ea(e);let r=this.ep,n=e.ep,i=S(r.x*n.y)===S(r.y*n.x),a=S(r.y*n.y)===S(r.x*n.x);return i||a}add(e){return Ea(e),new Ct(this.ep.add(e.ep))}subtract(e){return Ea(e),new Ct(this.ep.subtract(e.ep))}multiply(e){return new Ct(this.ep.multiply(e))}multiplyUnsafe(e){return new Ct(this.ep.multiplyUnsafe(e))}};Ct.BASE=new Ct(z.BASE);Ct.ZERO=new Ct(z.ZERO);var Ta=new WeakMap,ot=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Ta.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=at;e=Se(e,32);let a=e.slice();a[31]=e[31]&-129;let s=Wr(a);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=df)throw new Error("Expected 0 < hex < 2**256");let o=S(s*s),f=S(o-H),c=S(n*o+H),{isValid:u,value:h}=_a(f,c);if(!u)throw new Error("Point.fromHex: invalid y coordinate");let l=(h&H)===H;return(e[31]&128)!==0!==l&&(h=S(-h)),new ot(h,s)}static async fromPrivateKey(e){return(await Kn(e)).point}toRawBytes(){let e=Hr(this.y);return e[31]|=this.x&H?128:0,e}toHex(){return Gr(this.toRawBytes())}toX25519(){let{y:e}=this,r=S((H+e)*Un(H-e));return Hr(r)}isTorsionFree(){return z.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ot(S(-this.x),this.y)}add(e){return z.fromAffine(this).add(z.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return z.fromAffine(this).multiply(e,this).toAffine()}};ot.BASE=new ot(at.Gx,at.Gy);ot.ZERO=new ot(xt,H);var Ke=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Se(e,64),n=ot.fromHex(r.slice(0,32),!1),i=Wr(r.slice(32,64));return new Ke(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof ot))throw new Error("Expected Point instance");return Pn(r,at.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Hr(this.s),32),e}toHex(){return Gr(this.toRawBytes())}};function lf(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}var qp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gr(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=qp[t[r]];return e}function Ia(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}function yf(t){let r=t.toString(16).padStart(64,"0");return Ia(r)}function Hr(t){return yf(t).reverse()}function we(t){return(S(t)&H)===H}function Wr(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Gr(Uint8Array.from(t).reverse()))}var zp=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Aa(t){return S(Wr(t)&zp)}function S(t,e=at.P){let r=t%e;return r>=xt?r:e+r}function Un(t,e=at.P){if(t===xt||e<=xt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=S(t,e),n=e,i=xt,a=H,s=H,o=xt;for(;r!==xt;){let c=n/r,u=n%r,h=i-s*c,l=a-o*c;n=r,r=u,i=s,a=o,s=h,o=l}if(n!==H)throw new Error("invert: does not exist");return S(i,e)}function Hp(t,e=at.P){let r=new Array(t.length),n=t.reduce((a,s,o)=>s===xt?a:(r[o]=a,S(a*s,e)),H),i=Un(n,e);return t.reduceRight((a,s,o)=>s===xt?a:(r[o]=S(a*r[o],e),S(a*s,e)),i),r}function ie(t,e){let{P:r}=at,n=t;for(;e-- >xt;)n*=n,n%=r;return n}function Gp(t){let{P:e}=at,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),s=BigInt(80),f=t*t%e*t%e,c=ie(f,pr)*f%e,u=ie(c,H)*t%e,h=ie(u,r)*u%e,l=ie(h,n)*h%e,y=ie(l,i)*l%e,p=ie(y,a)*y%e,d=ie(p,s)*p%e,v=ie(d,s)*p%e,m=ie(v,n)*h%e;return{pow_p_5_8:ie(m,pr)*t%e,b2:f}}function _a(t,e){let r=S(e*e*e),n=S(r*r*e),i=Gp(t*n).pow_p_5_8,a=S(t*r*i),s=S(e*a*a),o=a,f=S(a*zr),c=s===t,u=s===S(-t),h=s===S(-t*zr);return c&&(a=o),(u||h)&&(a=f),we(a)&&(a=S(-a)),{isValid:c||u,value:a}}function pf(t){return _a(H,t)}function Ln(t){return S(Wr(t),at.l)}function Wp(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Se(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):Ia(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Pn(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(xt<t)return t}else if(xt<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Zp(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Yp(t){if(t=typeof t=="bigint"||typeof t=="number"?yf(Pn(t,df)):Se(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function $p(t){let e=Zp(t.slice(0,32)),r=t.slice(32,64),n=Ln(e),i=ot.BASE.multiply(n),a=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:a}}var Ca;async function Kn(t){return $p(await Ee.sha512(Yp(t)))}async function Ra(t){return(await Kn(t)).pointBytes}async function gf(t,e){t=Se(t);let{prefix:r,scalar:n,pointBytes:i}=await Kn(e),a=Ln(await Ee.sha512(r,t)),s=ot.BASE.multiply(a),o=Ln(await Ee.sha512(s.toRawBytes(),i,t)),f=S(a+o*n,at.l);return new Ke(s,f).toRawBytes()}function Qp(t,e,r){e=Se(e),r instanceof ot||(r=ot.fromHex(r,!1));let{r:n,s:i}=t instanceof Ke?t.assertValidity():Ke.fromHex(t),a=z.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:a,pub:r,msg:e}}function Xp(t,e,r,n){let i=Ln(n),a=z.fromAffine(t).multiplyUnsafe(i);return z.fromAffine(e).add(a).subtract(r).multiplyUnsafe(at.h).equals(z.ZERO)}async function xf(t,e,r){let{r:n,SB:i,msg:a,pub:s}=Qp(t,e,r),o=await Ee.sha512(n.toRawBytes(),s.toRawBytes(),a);return Xp(s,n,i,o)}ot.BASE._setWindowSize(8);var be={node:Kp,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Ee={bytesToHex:Gr,hexToBytes:Ia,concatBytes:lf,getExtendedPublicKey:Kn,mod:S,invert:Un,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Se(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return S(Wr(t),at.l-H)+H},randomBytes:(t=32)=>{if(be.web)return be.web.getRandomValues(new Uint8Array(t));if(be.node){let{randomBytes:e}=be.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ee.randomBytes(32),sha512:async(...t)=>{let e=lf(...t);if(be.web){let r=await be.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(be.node)return Uint8Array.from(be.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=ot.BASE){let r=e.equals(ot.BASE)?e:new ot(e.x,e.y);return r._setWindowSize(t),r.multiply(pr),r},sha512Sync:void 0};Object.defineProperties(Ee,{sha512Sync:{configurable:!1,get(){return Ca},set(t){Ca||(Ca=t)}}});var dr=32,he=64,Fn=32;async function vf(){let t=Ee.randomPrivateKey(),e=await Ra(t);return{privateKey:Sf(t,e),publicKey:e}}async function mf(t){if(t.length!==Fn)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await Ra(e);return{privateKey:Sf(e,r),publicKey:r}}async function bf(t,e){let r=t.subarray(0,Fn);return await gf(e,r)}async function wf(t,e,r){return await xf(e,r,t)}function Sf(t,e){let r=new Uint8Array(he);for(let n=0;n<Fn;n++)r[n]=t[n],r[Fn+n]=e[n];return r}var Zr=class{constructor(e){this._key=yr(e,dr)}async verify(e,r){return await wf(this._key,r,e)}marshal(){return this._key}get bytes(){return Yt.encode({Type:rt.Ed25519,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Kt.digest(this.bytes);return e}},Fe=class{constructor(e,r){this._key=yr(e,he),this._publicKey=yr(r,dr)}async sign(e){return await bf(this._key,e)}get public(){return new Zr(this._publicKey)}marshal(){return this._key}get bytes(){return $t.encode({Type:rt.Ed25519,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Kt.digest(this.bytes);return e}async id(){let e=await cf.digest(this.public.bytes);return sf.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await hr(this.bytes,e);throw(0,ka.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function td(t){if(t.length>he){t=yr(t,he+dr);let n=t.subarray(0,he),i=t.subarray(he,t.length);return new Fe(n,i)}t=yr(t,he);let e=t.subarray(0,he),r=t.subarray(dr);return new Fe(e,r)}function ed(t){return t=yr(t,dr),new Zr(t)}async function rd(){let{privateKey:t,publicKey:e}=await vf();return new Fe(t,e)}async function Ef(t){let{privateKey:e,publicKey:r}=await mf(t);return new Fe(e,r)}function yr(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw(0,ka.default)(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}var La={};vt(La,{Secp256k1PrivateKey:()=>$r,Secp256k1PublicKey:()=>Yr,generateKeyPair:()=>sd,unmarshalSecp256k1PrivateKey:()=>id,unmarshalSecp256k1PublicKey:()=>ad});var Rf=Z(Ut(),1);var gr=Z(Ut(),1);function Bf(){return Gt.randomPrivateKey()}async function Af(t,e){let{digest:r}=await Kt.digest(e);try{return await G0(r,t)}catch(n){throw(0,gr.default)(n,"ERR_INVALID_INPUT")}}async function Cf(t,e,r){try{let{digest:n}=await Kt.digest(r);return W0(e,n,t)}catch(n){throw(0,gr.default)(n,"ERR_INVALID_INPUT")}}function Tf(t){return Q.fromHex(t).toRawBytes(!0)}function If(t){try{xa(t,!0)}catch(e){throw(0,gr.default)(e,"ERR_INVALID_PRIVATE_KEY")}}function Na(t){try{Q.fromHex(t)}catch(e){throw(0,gr.default)(e,"ERR_INVALID_PUBLIC_KEY")}}function _f(t){try{return xa(t,!0)}catch(e){throw(0,gr.default)(e,"ERR_INVALID_PRIVATE_KEY")}}var Yr=class{constructor(e){Na(e),this._key=e}async verify(e,r){return await Cf(this._key,r,e)}marshal(){return Tf(this._key)}get bytes(){return Yt.encode({Type:rt.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Kt.digest(this.bytes);return e}},$r=class{constructor(e,r){this._key=e,this._publicKey=r??_f(e),If(this._key),Na(this._publicKey)}async sign(e){return await Af(this._key,e)}get public(){return new Yr(this._publicKey)}marshal(){return this._key}get bytes(){return $t.encode({Type:rt.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Kt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return _t(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await hr(this.bytes,e);throw(0,Rf.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function id(t){return new $r(t)}function ad(t){return new Yr(t)}async function sd(){let t=await Bf();return new $r(t)}var Be={rsa:Sa,ed25519:Da,secp256k1:La};function Pa(t){let e=Object.keys(Be).join(" / ");return(0,kf.default)(new Error(`invalid or unsupported key type ${t}. Must be ${e}`),"ERR_UNSUPPORTED_KEY_TYPE")}function Ua(t){if(t=t.toLowerCase(),t==="rsa"||t==="ed25519"||t==="secp256k1")return Be[t];throw Pa(t)}async function Mn(t,e){return await Ua(t).generateKeyPair(e??2048)}function Df(t){let e=Yt.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case rt.RSA:return Be.rsa.unmarshalRsaPublicKey(r);case rt.Ed25519:return Be.ed25519.unmarshalEd25519PublicKey(r);case rt.Secp256k1:return Be.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw Pa(e.Type??"RSA")}}function Ka(t,e){return e=(e??"rsa").toLowerCase(),Ua(e),t.bytes}async function Nf(t){let e=$t.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case rt.RSA:return await Be.rsa.unmarshalRsaPrivateKey(r);case rt.Ed25519:return Be.ed25519.unmarshalEd25519PrivateKey(r);case rt.Secp256k1:return Be.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Pa(e.Type??"RSA")}}function Lf(t,e){return e=(e??"rsa").toLowerCase(),Ua(e),t.bytes}var fd=Z(Ut(),1);var Pf=Symbol.for("@libp2p/peer-id");var cd=Symbol.for("nodejs.util.inspect.custom"),Uf=Object.values(nr).map(t=>t.decoder).reduce((t,e)=>t.or(e),nr.identity.decoder),Kf=114,Fa=36,Ma=37,Qr=class{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[Pf](){return!0}toString(){return this.string==null&&(this.string=It.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return st.createV1(Kf,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return kt(this.multihash.bytes,e);if(typeof e=="string")return ud(e).equals(this);if(e?.multihash?.bytes!=null)return kt(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[cd](){return`PeerId(${this.toString()})`}},xr=class extends Qr{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}},vr=class extends Qr{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}},mr=class extends Qr{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}};function ud(t,e){if(e=e??Uf,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=Rr(It.decode(`z${t}`));return t.startsWith("12D")?new vr({multihash:r}):t.startsWith("16U")?new mr({multihash:r}):new xr({multihash:r})}return Oa(Uf.decode(t))}function Oa(t){try{let e=Rr(t);if(e.code===rr.code){if(e.digest.length===Fa)return new vr({multihash:e});if(e.digest.length===Ma)return new mr({multihash:e})}if(e.code===kr.code)return new xr({multihash:e})}catch{return hd(st.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function hd(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==Kf)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===kr.code)return new xr({multihash:t.multihash});if(e.code===rr.code){if(e.digest.length===Fa)return new vr({multihash:t.multihash});if(e.digest.length===Ma)return new mr({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function Va(t,e){return t.length===Fa?new vr({multihash:re(rr.code,t),privateKey:e}):t.length===Ma?new mr({multihash:re(rr.code,t),privateKey:e}):new xr({multihash:await kr.digest(t),publicKey:t,privateKey:e})}var Xr;(function(t){let e;t.codec=()=>(e==null&&(e=He((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),(i.writeDefaults===!0||r.id!=null&&r.id.byteLength>0)&&(n.uint32(10),n.bytes(r.id)),r.pubKey!=null&&(n.uint32(18),n.bytes(r.pubKey)),r.privKey!=null&&(n.uint32(26),n.bytes(r.privKey)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={id:new Uint8Array(0)},a=n==null?r.len:r.pos+n;for(;r.pos<a;){let s=r.uint32();switch(s>>>3){case 1:i.id=r.bytes();break;case 2:i.pubKey=r.bytes();break;case 3:i.privKey=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>qe(r,t.codec()),t.decode=r=>Ve(r,t.codec())})(Xr||(Xr={}));var ld=async()=>{let t=await Mn("Ed25519"),e=await Jr(t);if(e.type==="Ed25519")return e;throw new Error(`Generated unexpected PeerId type "${e.type}"`)},pd=async()=>{let t=await Mn("secp256k1"),e=await Jr(t);if(e.type==="secp256k1")return e;throw new Error(`Generated unexpected PeerId type "${e.type}"`)},dd=async t=>{let e=await Mn("RSA",t?.bits??2048),r=await Jr(e);if(r.type==="RSA")return r;throw new Error(`Generated unexpected PeerId type "${r.type}"`)};async function Ff(t){return await Va(Ka(t))}async function Jr(t){return await Va(Ka(t.public),Lf(t))}function yd(t,e){return Xr.encode({id:t.multihash.bytes,pubKey:t.publicKey,privKey:e===!0||t.privateKey==null?void 0:t.privateKey})}async function gd(t){let{id:e,privKey:r,pubKey:n}=Xr.decode(t);return await Mf(e,r,n)}async function xd(t){return await Mf(mt(t.id,"base58btc"),t.privKey!=null?mt(t.privKey,"base64pad"):void 0,t.pubKey!=null?mt(t.pubKey,"base64pad"):void 0)}async function Mf(t,e,r){if(e!=null){let n=await Nf(e);return await Jr(n)}else if(r!=null){let n=await Df(r);return await Ff(n)}return Oa(t)}return Gf(vd);})();
/*! Bundled license information:

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
return Libp2PPeerIdFactory}));
